<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Grandpa.Estimate</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Grandpa.Estimate</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Blocks.html#"><span class="id" title="library">Blocks</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Votes.html#"><span class="id" title="library">Votes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Preliminars.html#"><span class="id" title="library">Preliminars</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Round.html#"><span class="id" title="library">Round</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Nat.html#"><span class="id" title="library">Nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="Estimate" class="idref" href="#Estimate"><span class="id" title="inductive">Estimate</span></a> <br/>
&nbsp;&nbsp;{<a id="total_voters:1" class="idref" href="#total_voters:1"><span class="id" title="binder">total_voters</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="prevote_voters:2" class="idref" href="#prevote_voters:2"><span class="id" title="binder">prevote_voters</span></a> : <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="record">Voters</span></a>} <br/>
&nbsp;&nbsp;{<a id="precommit_voters:3" class="idref" href="#precommit_voters:3"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="record">Voters</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_time:4" class="idref" href="#round_time:4"><span class="id" title="binder">round_time</span></a>:<a class="idref" href="Grandpa.Round.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_number:5" class="idref" href="#round_number:5"><span class="id" title="binder">round_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="time_increment:6" class="idref" href="#time_increment:6"><span class="id" title="binder">time_increment</span></a>: <a class="idref" href="Grandpa.Round.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="round_state:7" class="idref" href="#round_state:7"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Estimate.html#total_voters:1"><span class="id" title="variable">total_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#prevote_voters:2"><span class="id" title="variable">prevote_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#precommit_voters:3"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Estimate.html#round_time:4"><span class="id" title="variable">round_time</span></a>  <a class="idref" href="Grandpa.Estimate.html#round_number:5"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Estimate.html#time_increment:6"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EstimateOrigin" class="idref" href="#EstimateOrigin"><span class="id" title="constructor">EstimateOrigin</span></a> : <a class="idref" href="Grandpa.Estimate.html#round_number:5"><span class="id" title="variable">round_number</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Estimate.html#Estimate:8"><span class="id" title="inductive">Estimate</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:7"><span class="id" title="variable">round_state</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> 0 <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<a id="EstimateC" class="idref" href="#EstimateC"><span class="id" title="constructor">EstimateC</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="new_block_number:10" class="idref" href="#new_block_number:10"><span class="id" title="binder">new_block_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_block:11" class="idref" href="#new_block:11"><span class="id" title="binder">new_block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#new_block_number:10"><span class="id" title="variable">new_block_number</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_block_number:12" class="idref" href="#g_block_number:12"><span class="id" title="binder">g_block_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_prevote:13" class="idref" href="#g_prevote:13"><span class="id" title="binder">g_prevote</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#g_block_number:12"><span class="id" title="variable">g_block_number</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_prevote_is_some:14" class="idref" href="#g_prevote_is_some:14"><span class="id" title="binder">g_prevote_is_some</span></a> : <a class="idref" href="Grandpa.Preliminars.html#g"><span class="id" title="definition">g</span></a> ( <a class="idref" href="Grandpa.Round.html#get_prevote_votes"><span class="id" title="definition">get_prevote_votes</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:7"><span class="id" title="variable">round_state</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Estimate.html#g_block_number:12"><span class="id" title="variable">g_block_number</span></a> <a class="idref" href="Grandpa.Estimate.html#g_prevote:13"><span class="id" title="variable">g_prevote</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_block_is_ancestor_of_g:15" class="idref" href="#new_block_is_ancestor_of_g:15"><span class="id" title="binder">new_block_is_ancestor_of_g</span></a>: <a class="idref" href="Grandpa.Blocks.html#Prefix"><span class="id" title="inductive">Prefix</span></a> <a class="idref" href="Grandpa.Estimate.html#new_block:11"><span class="id" title="variable">new_block</span></a> <a class="idref" href="Grandpa.Estimate.html#g_prevote:13"><span class="id" title="variable">g_prevote</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Estimate.html#Estimate:8"><span class="id" title="inductive">Estimate</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:7"><span class="id" title="variable">round_state</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Estimate.html#new_block_number:10"><span class="id" title="variable">new_block_number</span></a> <a class="idref" href="Grandpa.Estimate.html#new_block:11"><span class="id" title="variable">new_block</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="State2" class="idref" href="#State2"><span class="id" title="section">State2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<a id="total_voters:16" class="idref" href="#total_voters:16"><span class="id" title="binder">total_voters</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="prevote_voters:17" class="idref" href="#prevote_voters:17"><span class="id" title="binder">prevote_voters</span></a>:<a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="record">Voters</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="precommit_voters:18" class="idref" href="#precommit_voters:18"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="record">Voters</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_time:19" class="idref" href="#round_time:19"><span class="id" title="binder">round_time</span></a> : <a class="idref" href="Grandpa.Round.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_number:20" class="idref" href="#round_number:20"><span class="id" title="binder">round_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="time_increment:21" class="idref" href="#time_increment:21"><span class="id" title="binder">time_increment</span></a> : <a class="idref" href="Grandpa.Round.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_estimate_block" class="idref" href="#get_estimate_block"><span class="id" title="definition">get_estimate_block</span></a><br/>
&nbsp;&nbsp;{<a id="round_state:22" class="idref" href="#round_state:22"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.total_voters"><span class="id" title="variable">total_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.prevote_voters"><span class="id" title="variable">prevote_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Estimate.html#State2.round_time"><span class="id" title="variable">round_time</span></a>  <a class="idref" href="Grandpa.Estimate.html#State2.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.time_increment"><span class="id" title="variable">time_increment</span></a>}<br/>
&nbsp;&nbsp;{<a id="n:23" class="idref" href="#n:23"><span class="id" title="binder">n</span></a>}<br/>
&nbsp;&nbsp;{<a id="block:24" class="idref" href="#block:24"><span class="id" title="binder">block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#n:23"><span class="id" title="variable">n</span></a>}<br/>
&nbsp;&nbsp;(<a id="estimate:25" class="idref" href="#estimate:25"><span class="id" title="binder">estimate</span></a> :<a class="idref" href="Grandpa.Estimate.html#Estimate"><span class="id" title="inductive">Estimate</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:22"><span class="id" title="variable">round_state</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Estimate.html#n:23"><span class="id" title="variable">n</span></a> <a class="idref" href="Grandpa.Estimate.html#block:24"><span class="id" title="variable">block</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#n:23"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Estimate.html#estimate:25"><span class="id" title="variable">estimate</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Estimate.html#EstimateOrigin"><span class="id" title="constructor">EstimateOrigin</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Estimate.html#EstimateC"><span class="id" title="constructor">EstimateC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">new_block</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">new_block</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_estimate_aux_recursive" class="idref" href="#get_estimate_aux_recursive"><span class="id" title="definition">get_estimate_aux_recursive</span></a> {<a id="gv_block_number:27" class="idref" href="#gv_block_number:27"><span class="id" title="binder">gv_block_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;(<a id="gv:28" class="idref" href="#gv:28"><span class="id" title="binder">gv</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#gv_block_number:27"><span class="id" title="variable">gv_block_number</span></a>)<br/>
&nbsp;&nbsp;(<a id="precommit_supermajority_blocks:29" class="idref" href="#precommit_supermajority_blocks:29"><span class="id" title="binder">precommit_supermajority_blocks</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="find_block:33" class="idref" href="#find_block:33"><span class="id" title="binder">find_block</span></a> <a id="any_block:31" class="idref" href="#any_block:31"><span class="id" title="binder">any_block</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Estimate.html#any_block:31"><span class="id" title="variable">any_block</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">block_number</span> <span class="id" title="var">block</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="Grandpa.Blocks.html#eqb"><span class="id" title="definition">Blocks.eqb</span></a> <a class="idref" href="Grandpa.Estimate.html#gv:28"><span class="id" title="variable">gv</span></a> <span class="id" title="var">block</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">List.find</span></a> <a class="idref" href="Grandpa.Estimate.html#find_block:33"><span class="id" title="variable">find_block</span></a> <a class="idref" href="Grandpa.Estimate.html#precommit_supermajority_blocks:29"><span class="id" title="variable">precommit_supermajority_blocks</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Estimate.html#gv:28"><span class="id" title="variable">gv</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <span class="id" title="var">old_block</span> <span class="id" title="var">_</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#get_estimate_aux_recursive:30"><span class="id" title="definition">get_estimate_aux_recursive</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">old_block</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#precommit_supermajority_blocks:29"><span class="id" title="variable">precommit_supermajority_blocks</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">any_block</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">any_block</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_estimate_aux" class="idref" href="#get_estimate_aux"><span class="id" title="definition">get_estimate_aux</span></a> <br/>
&nbsp;&nbsp;(<a id="prevote_votes:35" class="idref" href="#prevote_votes:35"><span class="id" title="binder">prevote_votes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.prevote_voters"><span class="id" title="variable">prevote_voters</span></a> ) <br/>
&nbsp;&nbsp;(<a id="precommit_votes:36" class="idref" href="#precommit_votes:36"><span class="id" title="binder">precommit_votes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.precommit_voters"><span class="id" title="variable">precommit_voters</span></a> )<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Preliminars.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="Grandpa.Estimate.html#prevote_votes:35"><span class="id" title="variable">prevote_votes</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">g_prevote_votes</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="precommit_supermajority_blocks:37" class="idref" href="#precommit_supermajority_blocks:37"><span class="id" title="binder">precommit_supermajority_blocks</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Votes.html#get_supermajority_blocks"><span class="id" title="definition">get_supermajority_blocks</span></a> <a class="idref" href="Grandpa.Estimate.html#precommit_votes:36"><span class="id" title="variable">precommit_votes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#get_estimate_aux_recursive"><span class="id" title="definition">get_estimate_aux_recursive</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">g_prevote_votes</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#precommit_supermajority_blocks:37"><span class="id" title="variable">precommit_supermajority_blocks</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_estimate" class="idref" href="#get_estimate"><span class="id" title="definition">get_estimate</span></a> <br/>
&nbsp;&nbsp;(<a id="round_state:38" class="idref" href="#round_state:38"><span class="id" title="binder">round_state</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.total_voters"><span class="id" title="variable">total_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.prevote_voters"><span class="id" title="variable">prevote_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#State2.round_time"><span class="id" title="variable">round_time</span></a>  <a class="idref" href="Grandpa.Estimate.html#State2.round_number"><span class="id" title="variable">round_number</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#State2.time_increment"><span class="id" title="variable">time_increment</span></a><br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Estimate.html#round_state:38"><span class="id" title="variable">round_state</span></a>  <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Round.html#InitialRoundState"><span class="id" title="constructor">InitialRoundState</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="Grandpa.Estimate.html#State2.round_number"><span class="id" title="variable">round_number</span></a> 0 <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> 0 <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Round.html#RoundStateUpdate"><span class="id" title="constructor">RoundStateUpdate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="all_prevote_votes:40" class="idref" href="#all_prevote_votes:40"><span class="id" title="binder">all_prevote_votes</span></a> := <a class="idref" href="Grandpa.Round.html#get_all_prevote_votes"><span class="id" title="definition">get_all_prevote_votes</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:38"><span class="id" title="variable">round_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="all_precommit_votes:41" class="idref" href="#all_precommit_votes:41"><span class="id" title="binder">all_precommit_votes</span></a> := <a class="idref" href="Grandpa.Round.html#get_all_precommit_votes"><span class="id" title="definition">get_all_precommit_votes</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:38"><span class="id" title="variable">round_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#get_estimate_aux"><span class="id" title="definition">get_estimate_aux</span></a> <a class="idref" href="Grandpa.Estimate.html#all_prevote_votes:40"><span class="id" title="variable">all_prevote_votes</span></a> <a class="idref" href="Grandpa.Estimate.html#all_precommit_votes:41"><span class="id" title="variable">all_precommit_votes</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Grandpa.Estimate.html#State2"><span class="id" title="section">State2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="State3" class="idref" href="#State3"><span class="id" title="section">State3</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<a id="total_voters:42" class="idref" href="#total_voters:42"><span class="id" title="binder">total_voters</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="prevote_voters:43" class="idref" href="#prevote_voters:43"><span class="id" title="binder">prevote_voters</span></a>:<a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="record">Voters</span></a>  }.<br/>
<span class="id" title="keyword">Context</span> {<a id="precommit_voters:44" class="idref" href="#precommit_voters:44"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="record">Voters</span></a> }.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_time:45" class="idref" href="#round_time:45"><span class="id" title="binder">round_time</span></a> : <a class="idref" href="Grandpa.Round.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_number:46" class="idref" href="#round_number:46"><span class="id" title="binder">round_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="time_increment:47" class="idref" href="#time_increment:47"><span class="id" title="binder">time_increment</span></a> : <a class="idref" href="Grandpa.Round.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="get_estimate_aux_recursive_is_none_on_nil" class="idref" href="#get_estimate_aux_recursive_is_none_on_nil"><span class="id" title="lemma">get_estimate_aux_recursive_is_none_on_nil</span></a> : <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a>} (<a id="block:49" class="idref" href="#block:49"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#n:48"><span class="id" title="variable">n</span></a>) <br/>
&nbsp;&nbsp;,<a class="idref" href="Grandpa.Estimate.html#get_estimate_aux_recursive"><span class="id" title="definition">get_estimate_aux_recursive</span></a> <a class="idref" href="Grandpa.Estimate.html#block:49"><span class="id" title="variable">block</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="get_estimate_output_is_estimate" class="idref" href="#get_estimate_output_is_estimate"><span class="id" title="lemma">get_estimate_output_is_estimate</span></a> <br/>
&nbsp;&nbsp;{<a id="block_number:50" class="idref" href="#block_number:50"><span class="id" title="binder">block_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="block:51" class="idref" href="#block:51"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#block_number:50"><span class="id" title="variable">block_number</span></a>}<br/>
&nbsp;&nbsp;(<a id="round_state:52" class="idref" href="#round_state:52"><span class="id" title="binder">round_state</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.total_voters"><span class="id" title="variable">total_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.prevote_voters"><span class="id" title="variable">prevote_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#State3.round_time"><span class="id" title="variable">round_time</span></a>  <a class="idref" href="Grandpa.Estimate.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Estimate.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a><br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;(<a id="get_estimate_result:53" class="idref" href="#get_estimate_result:53"><span class="id" title="binder">get_estimate_result</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Estimate.html#get_estimate"><span class="id" title="definition">get_estimate</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:52"><span class="id" title="variable">round_state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Estimate.html#block_number:50"><span class="id" title="variable">block_number</span></a> <a class="idref" href="Grandpa.Estimate.html#block:51"><span class="id" title="variable">block</span></a>)<br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Estimate.html#Estimate"><span class="id" title="inductive">Estimate</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:52"><span class="id" title="variable">round_state</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Estimate.html#block_number:50"><span class="id" title="variable">block_number</span></a> <a class="idref" href="Grandpa.Estimate.html#block:51"><span class="id" title="variable">block</span></a>).<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="Completable" class="idref" href="#Completable"><span class="id" title="inductive">Completable</span></a> <br/>
&nbsp;&nbsp;(<a id="round_state:54" class="idref" href="#round_state:54"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.total_voters"><span class="id" title="variable">total_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.prevote_voters"><span class="id" title="variable">prevote_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Estimate.html#State3.round_time"><span class="id" title="variable">round_time</span></a>  <a class="idref" href="Grandpa.Estimate.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;| <a id="CompletableBelowPreview" class="idref" href="#CompletableBelowPreview"><span class="id" title="constructor">CompletableBelowPreview</span></a> {<a id="number_and_block:57" class="idref" href="#number_and_block:57"><span class="id" title="binder">number_and_block</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:58" class="idref" href="#e:58"><span class="id" title="binder">e</span></a>: <a class="idref" href="Grandpa.Estimate.html#Estimate"><span class="id" title="inductive">Estimate</span></a>  <a class="idref" href="Grandpa.Estimate.html#round_state:54"><span class="id" title="variable">round_state</span></a> <a class="idref" href="Grandpa.Estimate.html#number_and_block:57"><span class="id" title="variable">number_and_block</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_block_number:59" class="idref" href="#g_block_number:59"><span class="id" title="binder">g_block_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_prevote:60" class="idref" href="#g_prevote:60"><span class="id" title="binder">g_prevote</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#g_block_number:59"><span class="id" title="variable">g_block_number</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_prevote_is_some:61" class="idref" href="#g_prevote_is_some:61"><span class="id" title="binder">g_prevote_is_some</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Preliminars.html#g"><span class="id" title="definition">g</span></a> ( <a class="idref" href="Grandpa.Round.html#get_prevote_votes"><span class="id" title="definition">get_prevote_votes</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:54"><span class="id" title="variable">round_state</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Estimate.html#g_block_number:59"><span class="id" title="variable">g_block_number</span></a> <a class="idref" href="Grandpa.Estimate.html#g_prevote:60"><span class="id" title="variable">g_prevote</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_block_is_below_g:62" class="idref" href="#new_block_is_below_g:62"><span class="id" title="binder">new_block_is_below_g</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="Grandpa.Estimate.html#number_and_block:57"><span class="id" title="variable">number_and_block</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Grandpa.Estimate.html#g_block_number:59"><span class="id" title="variable">g_block_number</span></a>)<br/>
&nbsp;&nbsp;| <a id="CompletableByImpossible" class="idref" href="#CompletableByImpossible"><span class="id" title="constructor">CompletableByImpossible</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_block_number:63" class="idref" href="#g_block_number:63"><span class="id" title="binder">g_block_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_prevote:64" class="idref" href="#g_prevote:64"><span class="id" title="binder">g_prevote</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#g_block_number:63"><span class="id" title="variable">g_block_number</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="g_prevote_is_some:65" class="idref" href="#g_prevote_is_some:65"><span class="id" title="binder">g_prevote_is_some</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Preliminars.html#g"><span class="id" title="definition">g</span></a> ( <a class="idref" href="Grandpa.Round.html#get_prevote_votes"><span class="id" title="definition">get_prevote_votes</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:54"><span class="id" title="variable">round_state</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Estimate.html#g_block_number:63"><span class="id" title="variable">g_block_number</span></a> <a class="idref" href="Grandpa.Estimate.html#g_prevote:64"><span class="id" title="variable">g_prevote</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="cant_have_supermajority:68" class="idref" href="#cant_have_supermajority:68"><span class="id" title="binder">cant_have_supermajority</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="n:66" class="idref" href="#n:66"><span class="id" title="binder">n</span></a> (<a id="block:67" class="idref" href="#block:67"><span class="id" title="binder">block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Estimate.html#n:66"><span class="id" title="variable">n</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;, <a class="idref" href="Grandpa.Estimate.html#g_block_number:63"><span class="id" title="variable">g_block_number</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Grandpa.Estimate.html#n:66"><span class="id" title="variable">n</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Votes.html#has_supermajority"><span class="id" title="definition">has_supermajority</span></a> (<a class="idref" href="Grandpa.Round.html#get_precommit_votes"><span class="id" title="definition">get_precommit_votes</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:54"><span class="id" title="variable">round_state</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="try_to_complete_round" class="idref" href="#try_to_complete_round"><span class="id" title="definition">try_to_complete_round</span></a><br/>
&nbsp;&nbsp;(<a id="round_state:69" class="idref" href="#round_state:69"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.total_voters"><span class="id" title="variable">total_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.prevote_voters"><span class="id" title="variable">prevote_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Estimate.html#State3.round_time"><span class="id" title="variable">round_time</span></a>  <a class="idref" href="Grandpa.Estimate.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Grandpa.Estimate.html#Completable"><span class="id" title="inductive">Completable</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:69"><span class="id" title="variable">round_state</span></a>).<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_completable" class="idref" href="#is_completable"><span class="id" title="definition">is_completable</span></a> <br/>
&nbsp;&nbsp;(<a id="round_state:70" class="idref" href="#round_state:70"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.total_voters"><span class="id" title="variable">total_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.prevote_voters"><span class="id" title="variable">prevote_voters</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Estimate.html#State3.round_time"><span class="id" title="variable">round_time</span></a>  <a class="idref" href="Grandpa.Estimate.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Estimate.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Estimate.html#try_to_complete_round"><span class="id" title="axiom">try_to_complete_round</span></a> <a class="idref" href="Grandpa.Estimate.html#round_state:70"><span class="id" title="variable">round_state</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Grandpa.Estimate.html#State3"><span class="id" title="section">State3</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>