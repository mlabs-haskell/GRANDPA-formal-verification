<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Grandpa.OpaqueRound</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Grandpa.OpaqueRound</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Blocks.AnyBlock.html#"><span class="id" title="library">Blocks.AnyBlock</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Votes.html#"><span class="id" title="library">Votes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Voters.html#"><span class="id" title="library">Voters</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Round.html#"><span class="id" title="library">Round</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Estimate.html#"><span class="id" title="library">Estimate</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Coq.Program.Equality</span></a>.<br/>

<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="Grandpa.Round.html#"><span class="id" title="module">Round</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Message.html#"><span class="id" title="library">Message</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Classes.Math.All.html#"><span class="id" title="library">Classes.Math.All</span></a>.<br/>

<br/>
</div>

<div class="doc">
*OpaqueRoundState
This didn't exist in the paper, is a convenient newtype around <span class="inlinecode"><a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a></span>.

<div class="paragraph"> </div>

The <span class="inlinecode"><a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a></span> type allow us to store different rounds in a single
collection like a <span class="inlinecode"><span class="id" title="var">vector</span></span> or a <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a></span>.

<div class="paragraph"> </div>

Another advantage is that we don't need to explicitly pass around the
parameters of a round.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variant</span> <a id="OpaqueRoundState" class="idref" href="#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>: <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="OpaqueRoundStateC" class="idref" href="#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> {<a id="total_voters:3" class="idref" href="#total_voters:3"><span class="id" title="binder">total_voters</span></a> <a id="round_number:4" class="idref" href="#round_number:4"><span class="id" title="binder">round_number</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="prevote_voters:5" class="idref" href="#prevote_voters:5"><span class="id" title="binder">prevote_voters</span></a>:<a class="idref" href="Grandpa.Voters.html#Voters"><span class="id" title="record">Voters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="precommit_voters:6" class="idref" href="#precommit_voters:6"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Voters.html#Voters"><span class="id" title="record">Voters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="round_start_time:7" class="idref" href="#round_start_time:7"><span class="id" title="binder">round_start_time</span></a>:<a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="time:8" class="idref" href="#time:8"><span class="id" title="binder">time</span></a>:<a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="round_state:9" class="idref" href="#round_state:9"><span class="id" title="binder">round_state</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Round.html#RoundState"><span class="id" title="inductive">RoundState</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#total_voters:3"><span class="id" title="variable">total_voters</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#prevote_voters:5"><span class="id" title="variable">prevote_voters</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#precommit_voters:6"><span class="id" title="variable">precommit_voters</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#round_start_time:7"><span class="id" title="variable">round_start_time</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#round_number:4"><span class="id" title="variable">round_number</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#time:8"><span class="id" title="variable">time</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_prevote_voters" class="idref" href="#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> (<a id="o:10" class="idref" href="#o:10"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>) : <a class="idref" href="Grandpa.Voters.html#Voters"><span class="id" title="record">Voters</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:10"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Round.html#get_prevote_voters"><span class="id" title="definition">Round.get_prevote_voters</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_precommit_voters" class="idref" href="#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> (<a id="o:12" class="idref" href="#o:12"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>) : <a class="idref" href="Grandpa.Voters.html#Voters"><span class="id" title="record">Voters</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:12"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Round.html#get_precommit_voters"><span class="id" title="definition">Round.get_precommit_voters</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_start_time" class="idref" href="#get_start_time"><span class="id" title="definition">get_start_time</span></a> (<a id="o:14" class="idref" href="#o:14"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>) : <a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:14"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Round.html#get_start_time"><span class="id" title="definition">Round.get_start_time</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_time_increment" class="idref" href="#get_time_increment"><span class="id" title="definition">get_time_increment</span></a> (<a id="o:16" class="idref" href="#o:16"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>) : <a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:16"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Round.html#get_time_increment"><span class="id" title="definition">Round.get_time_increment</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_round_number" class="idref" href="#get_round_number"><span class="id" title="definition">get_round_number</span></a> (<a id="o:18" class="idref" href="#o:18"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>) : <a class="idref" href="Grandpa.RoundNumber.html#RoundNumber"><span class="id" title="definition">RoundNumber</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:18"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Round.html#get_round_number"><span class="id" title="definition">Round.get_round_number</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_total_voters" class="idref" href="#get_total_voters"><span class="id" title="definition">get_total_voters</span></a> (<a id="o:20" class="idref" href="#o:20"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:20"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Round.html#get_total_voters"><span class="id" title="definition">Round.get_total_voters</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_all_prevote_votes" class="idref" href="#get_all_prevote_votes"><span class="id" title="definition">get_all_prevote_votes</span></a> (<a id="o:22" class="idref" href="#o:22"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>) : (<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="record">Votes</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:22"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:22"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Round.html#get_prevote_votes"><span class="id" title="definition">Round.get_prevote_votes</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_all_precommit_votes" class="idref" href="#get_all_precommit_votes"><span class="id" title="definition">get_all_precommit_votes</span></a> (<a id="o:24" class="idref" href="#o:24"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>) : (<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="record">Votes</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:24"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:24"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Round.html#get_precommit_votes"><span class="id" title="definition">Round.get_precommit_votes</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_completable" class="idref" href="#is_completable"><span class="id" title="definition">is_completable</span></a> (<a id="o:26" class="idref" href="#o:26"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:26"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Estimate.html#is_completable"><span class="id" title="definition">Estimate.is_completable</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_estimate" class="idref" href="#get_estimate"><span class="id" title="definition">get_estimate</span></a> (<a id="o:28" class="idref" href="#o:28"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Grandpa.Blocks.AnyBlock.html#AnyBlock"><span class="id" title="record">AnyBlock</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:28"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="Grandpa.Estimate.html#get_estimate"><span class="id" title="definition">Estimate.get_estimate</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">math</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">natWrapper</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="update_opaque_round_state" class="idref" href="#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a><br/>
&nbsp;&nbsp;(<a id="o:30" class="idref" href="#o:30"><span class="id" title="binder">o</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>)<br/>
&nbsp;&nbsp;(<a id="time_increment:31" class="idref" href="#time_increment:31"><span class="id" title="binder">time_increment</span></a>:<a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a>)<br/>
&nbsp;&nbsp;(<a id="new_prevotes:32" class="idref" href="#new_prevotes:32"><span class="id" title="binder">new_prevotes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="record">Votes</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:30"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;(<a id="new_precommits:33" class="idref" href="#new_precommits:33"><span class="id" title="binder">new_precommits</span></a>:<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="record">Votes</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:30"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#o:30"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| @<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">total_voters</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">round_number</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">prevote_voters</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">precommit_voters</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">start_time</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">time</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a>(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Round.html#RoundStateUpdate"><span class="id" title="constructor">Round.RoundStateUpdate</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">total_voters</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">prevote_voters</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">precommit_voters</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">start_time</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">round_number</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#time_increment:31"><span class="id" title="variable">time_increment</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#new_prevotes:32"><span class="id" title="variable">new_prevotes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#new_precommits:33"><span class="id" title="variable">new_precommits</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
It add the precommit or prevote vote represented
by a message to the particular round it is related to.

<div class="paragraph"> </div>

If the message came from a voter outside of the set of
precommiters or prevoters for the round, we ignore the vote.
In the paper they assumed that every participant is capable
to determine the round participants.

<div class="paragraph"> </div>

If the message isn't a precommit or prevote we do nothing.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="update_votes_with_msg" class="idref" href="#update_votes_with_msg"><span class="id" title="definition">update_votes_with_msg</span></a><br/>
&nbsp;&nbsp;(<a id="opaque:35" class="idref" href="#opaque:35"><span class="id" title="binder">opaque</span></a>:<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a>)<br/>
&nbsp;&nbsp;(<a id="msg:36" class="idref" href="#msg:36"><span class="id" title="binder">msg</span></a>:<a class="idref" href="Grandpa.Message.html#Message"><span class="id" title="record">Message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> <span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="new_time_increment:38" class="idref" href="#new_time_increment:38"><span class="id" title="binder">new_time_increment</span></a> : <a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a> := (<a class="idref" href="Grandpa.OpaqueRound.html#msg:36"><span class="id" title="variable">msg</span></a>.(<a class="idref" href="Grandpa.Message.html#time"><span class="id" title="projection">Message.time</span></a>) <a class="idref" href="Grandpa.DataTypes.NatWrapper.html#::natWrapper_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Grandpa.DataTypes.NatWrapper.html#::natWrapper_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Grandpa.OpaqueRound.html#get_start_time"><span class="id" title="definition">get_start_time</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a> <a class="idref" href="Grandpa.Classes.Math.Semigroup.html#bd0dc97a35a215d97e8a463a14f0b420"><span class="id" title="notation">+</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#get_time_increment"><span class="id" title="definition">get_time_increment</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a><a class="idref" href="Grandpa.DataTypes.NatWrapper.html#::natWrapper_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Message.html#message_to_prevote_vote"><span class="id" title="definition">Message.message_to_prevote_vote</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#msg:36"><span class="id" title="variable">msg</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a>)<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">new_votes</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#new_time_increment:38"><span class="id" title="variable">new_time_increment</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Votes.html#VotesC"><span class="id" title="constructor">VotesC</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#cons"><span class="id" title="abbreviation">List.cons</span></a> <span class="id" title="var">new_votes</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Votes.html#VotesC"><span class="id" title="constructor">VotesC</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Message.html#message_to_precommit_vote"><span class="id" title="definition">Message.message_to_precommit_vote</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#msg:36"><span class="id" title="variable">msg</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">new_votes</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#new_time_increment:38"><span class="id" title="variable">new_time_increment</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Votes.html#VotesC"><span class="id" title="constructor">VotesC</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Votes.html#VotesC"><span class="id" title="constructor">VotesC</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#cons"><span class="id" title="abbreviation">List.cons</span></a> <span class="id" title="var">new_votes</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Grandpa.OpaqueRound.html#opaque:35"><span class="id" title="variable">opaque</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="IsUpdateRelation" class="idref" href="#IsUpdateRelation"><span class="id" title="section">IsUpdateRelation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="IsUpdateOf" class="idref" href="#IsUpdateOf"><span class="id" title="definition, inductive"><span id="IsUpdateOf_ind" class="id"><span id="IsUpdateOf_sind" class="id">IsUpdateOf</span></span></span></a> : <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundState"><span class="id" title="inductive">OpaqueRoundState</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;| <a id="SameRoundState" class="idref" href="#SameRoundState"><span class="id" title="constructor">SameRoundState</span></a> <a id="o:41" class="idref" href="#o:41"><span class="id" title="binder">o</span></a> : <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf:39"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:41"><span class="id" title="variable">o</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:41"><span class="id" title="variable">o</span></a><br/>
&nbsp;&nbsp;| <a id="IsRoundUpdate" class="idref" href="#IsRoundUpdate"><span class="id" title="constructor">IsRoundUpdate</span></a> <a id="o1:42" class="idref" href="#o1:42"><span class="id" title="binder">o1</span></a> <a id="o2:43" class="idref" href="#o2:43"><span class="id" title="binder">o2</span></a> (<a id="is_related:44" class="idref" href="#is_related:44"><span class="id" title="binder">is_related</span></a> : <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf:39"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:42"><span class="id" title="variable">o1</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:43"><span class="id" title="variable">o2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="time_increment:45" class="idref" href="#time_increment:45"><span class="id" title="binder">time_increment</span></a>:<a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_prevotes:46" class="idref" href="#new_prevotes:46"><span class="id" title="binder">new_prevotes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="record">Votes</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:43"><span class="id" title="variable">o2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_precommits:47" class="idref" href="#new_precommits:47"><span class="id" title="binder">new_precommits</span></a>:<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="record">Votes</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:43"><span class="id" title="variable">o2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf:39"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:42"><span class="id" title="variable">o1</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:43"><span class="id" title="variable">o2</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#time_increment:45"><span class="id" title="variable">time_increment</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#new_prevotes:46"><span class="id" title="variable">new_prevotes</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#new_precommits:47"><span class="id" title="variable">new_precommits</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_update_reflexivity" class="idref" href="#is_update_reflexivity"><span class="id" title="lemma">is_update_reflexivity</span></a> <a id="o:48" class="idref" href="#o:48"><span class="id" title="binder">o</span></a> : <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:48"><span class="id" title="variable">o</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:48"><span class="id" title="variable">o</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="origin_isnt_update_of_not_origin" class="idref" href="#origin_isnt_update_of_not_origin"><span class="id" title="lemma">origin_isnt_update_of_not_origin</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="total_voters:49" class="idref" href="#total_voters:49"><span class="id" title="binder">total_voters</span></a> <a id="round_number:50" class="idref" href="#round_number:50"><span class="id" title="binder">round_number</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="prevote_voters:51" class="idref" href="#prevote_voters:51"><span class="id" title="binder">prevote_voters</span></a>:<a class="idref" href="Grandpa.Voters.html#Voters"><span class="id" title="record">Voters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="precommit_voters:52" class="idref" href="#precommit_voters:52"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Voters.html#Voters"><span class="id" title="record">Voters</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="round_start_time:53" class="idref" href="#round_start_time:53"><span class="id" title="binder">round_start_time</span></a>:<a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="time:54" class="idref" href="#time:54"><span class="id" title="binder">time</span></a>:<a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="o:55" class="idref" href="#o:55"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="time_increment:56" class="idref" href="#time_increment:56"><span class="id" title="binder">time_increment</span></a>:<a class="idref" href="Grandpa.Time.html#Time"><span class="id" title="definition">Time</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_prevotes:57" class="idref" href="#new_prevotes:57"><span class="id" title="binder">new_prevotes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="record">Votes</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:55"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_precommits:58" class="idref" href="#new_precommits:58"><span class="id" title="binder">new_precommits</span></a>:<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="record">Votes</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:55"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:55"><span class="id" title="variable">o</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#time_increment:56"><span class="id" title="variable">time_increment</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#new_prevotes:57"><span class="id" title="variable">new_prevotes</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#new_precommits:58"><span class="id" title="variable">new_precommits</span></a>) (<a class="idref" href="Grandpa.OpaqueRound.html#OpaqueRoundStateC"><span class="id" title="constructor">OpaqueRoundStateC</span></a> (<a class="idref" href="Grandpa.Round.html#InitialRoundState"><span class="id" title="constructor">InitialRoundState</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#total_voters:49"><span class="id" title="variable">total_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#prevote_voters:51"><span class="id" title="variable">prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#precommit_voters:52"><span class="id" title="variable">precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#round_start_time:53"><span class="id" title="variable">round_start_time</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#round_number:50"><span class="id" title="variable">round_number</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_update_of_previous" class="idref" href="#is_update_of_previous"><span class="id" title="lemma">is_update_of_previous</span></a> <a id="o1:59" class="idref" href="#o1:59"><span class="id" title="binder">o1</span></a> <a id="o2:60" class="idref" href="#o2:60"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ti:61" class="idref" href="#ti:61"><span class="id" title="binder">ti</span></a> <a id="npv:62" class="idref" href="#npv:62"><span class="id" title="binder">npv</span></a> <a id="npr:63" class="idref" href="#npr:63"><span class="id" title="binder">npr</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:59"><span class="id" title="variable">o1</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#ti:61"><span class="id" title="variable">ti</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#npv:62"><span class="id" title="variable">npv</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#npr:63"><span class="id" title="variable">npr</span></a>) <a class="idref" href="Grandpa.OpaqueRound.html#o2:60"><span class="id" title="variable">o2</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:59"><span class="id" title="variable">o1</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:60"><span class="id" title="variable">o2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="Grandpa.OpaqueRound.html#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_update_transitive" class="idref" href="#is_update_transitive"><span class="id" title="lemma">is_update_transitive</span></a> {<a id="o1:64" class="idref" href="#o1:64"><span class="id" title="binder">o1</span></a>} <a id="o2:65" class="idref" href="#o2:65"><span class="id" title="binder">o2</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:64"><span class="id" title="variable">o1</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:65"><span class="id" title="variable">o2</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> {<a id="o3:66" class="idref" href="#o3:66"><span class="id" title="binder">o3</span></a>}, <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:65"><span class="id" title="variable">o2</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o3:66"><span class="id" title="variable">o3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:64"><span class="id" title="variable">o1</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o3:66"><span class="id" title="variable">o3</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_update_has_same_prevote_voters" class="idref" href="#is_update_has_same_prevote_voters"><span class="id" title="lemma">is_update_has_same_prevote_voters</span></a> <a id="o1:67" class="idref" href="#o1:67"><span class="id" title="binder">o1</span></a> <a id="o2:68" class="idref" href="#o2:68"><span class="id" title="binder">o2</span></a><br/>
&nbsp;&nbsp;(<a id="is_update:69" class="idref" href="#is_update:69"><span class="id" title="binder">is_update</span></a>: <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:67"><span class="id" title="variable">o1</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:68"><span class="id" title="variable">o2</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:67"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#get_prevote_voters"><span class="id" title="definition">get_prevote_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:68"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_update_has_same_precommit_voters" class="idref" href="#is_update_has_same_precommit_voters"><span class="id" title="lemma">is_update_has_same_precommit_voters</span></a> <a id="o1:70" class="idref" href="#o1:70"><span class="id" title="binder">o1</span></a> <a id="o2:71" class="idref" href="#o2:71"><span class="id" title="binder">o2</span></a><br/>
&nbsp;&nbsp;(<a id="is_update:72" class="idref" href="#is_update:72"><span class="id" title="binder">is_update</span></a>: <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:70"><span class="id" title="variable">o1</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:71"><span class="id" title="variable">o2</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o1:70"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#get_precommit_voters"><span class="id" title="definition">get_precommit_voters</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o2:71"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_votes_with_msg_is_update_of" class="idref" href="#update_votes_with_msg_is_update_of"><span class="id" title="lemma">update_votes_with_msg_is_update_of</span></a> <a id="o:73" class="idref" href="#o:73"><span class="id" title="binder">o</span></a> <a id="msg:74" class="idref" href="#msg:74"><span class="id" title="binder">msg</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateOf"><span class="id" title="inductive">IsUpdateOf</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:73"><span class="id" title="variable">o</span></a> (<a class="idref" href="Grandpa.OpaqueRound.html#update_votes_with_msg"><span class="id" title="definition">update_votes_with_msg</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#o:73"><span class="id" title="variable">o</span></a> <a class="idref" href="Grandpa.OpaqueRound.html#msg:74"><span class="id" title="variable">msg</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="Grandpa.OpaqueRound.html#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Transparent</span> <a class="idref" href="Grandpa.OpaqueRound.html#update_opaque_round_state"><span class="id" title="definition">update_opaque_round_state</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Grandpa.OpaqueRound.html#IsUpdateRelation"><span class="id" title="section">IsUpdateRelation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">natWrapper</span>.<br/>
<span class="id" title="keyword">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">math</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>