<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Grandpa.Protocol</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Grandpa.Protocol</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Blocks.html#"><span class="id" title="library">Blocks</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Votes.html#"><span class="id" title="library">Votes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Grandpa.Preliminars.html#"><span class="id" title="library">Preliminars</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#"><span class="id" title="library">Nat</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Arith.Compare_dec.html#"><span class="id" title="library">Arith.Compare_dec</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Program.Equality</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Time" class="idref" href="#Time"><span class="id" title="definition">Time</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="RoundState" class="idref" href="#RoundState"><span class="id" title="definition, inductive"><span id="RoundState_rect" class="id"><span id="RoundState_ind" class="id"><span id="RoundState_rec" class="id"><span id="RoundState_sind" class="id">RoundState</span></span></span></span></span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="preview_number:1" class="idref" href="#preview_number:1"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:2" class="idref" href="#precommit_number:2"><span class="id" title="binder">precommit_number</span></a> <a id="last_block_number:3" class="idref" href="#last_block_number:3"><span class="id" title="binder">last_block_number</span></a>}<br/>
&nbsp;&nbsp;(<a id="preview_voters:4" class="idref" href="#preview_voters:4"><span class="id" title="binder">preview_voters</span></a>:<a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_number:1"><span class="id" title="variable">preview_number</span></a>) <br/>
&nbsp;&nbsp;(<a id="precommit_voters:5" class="idref" href="#precommit_voters:5"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_number:2"><span class="id" title="variable">precommit_number</span></a>)<br/>
&nbsp;&nbsp;(<a id="round_start_time:6" class="idref" href="#round_start_time:6"><span class="id" title="binder">round_start_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) <br/>
&nbsp;&nbsp;(<a id="last_block:7" class="idref" href="#last_block:7"><span class="id" title="binder">last_block</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block_number:3"><span class="id" title="variable">last_block_number</span></a>)<br/>
&nbsp;&nbsp;(<a id="round_number:8" class="idref" href="#round_number:8"><span class="id" title="binder">round_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="InitialRoundState" class="idref" href="#InitialRoundState"><span class="id" title="constructor">InitialRoundState</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Protocol.html#RoundState:9"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:4"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:5"><span class="id" title="variable">precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#round_start_time:6"><span class="id" title="variable">round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:7"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#round_number:8"><span class="id" title="variable">round_number</span></a> 0<br/>
&nbsp;&nbsp;| <a id="RoundStateUpdate" class="idref" href="#RoundStateUpdate"><span class="id" title="constructor">RoundStateUpdate</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="old_time_increment:11" class="idref" href="#old_time_increment:11"><span class="id" title="binder">old_time_increment</span></a>: <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="old_state:12" class="idref" href="#old_state:12"><span class="id" title="binder">old_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState:9"><span class="id" title="inductive">RoundState</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#preview_voters:4"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:5"><span class="id" title="variable">precommit_voters</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#round_start_time:6"><span class="id" title="variable">round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:7"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#round_number:8"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#old_time_increment:11"><span class="id" title="variable">old_time_increment</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="time_increment:13" class="idref" href="#time_increment:13"><span class="id" title="binder">time_increment</span></a>: <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_preview_votes:14" class="idref" href="#new_preview_votes:14"><span class="id" title="binder">new_preview_votes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:4"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:7"><span class="id" title="variable">last_block</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_precommit_votes:15" class="idref" href="#new_precommit_votes:15"><span class="id" title="binder">new_precommit_votes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:5"><span class="id" title="variable">precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:7"><span class="id" title="variable">last_block</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Protocol.html#RoundState:9"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:4"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:5"><span class="id" title="variable">precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#round_start_time:6"><span class="id" title="variable">round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:7"><span class="id" title="variable">last_block</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#round_number:8"><span class="id" title="variable">round_number</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#time_increment:13"><span class="id" title="variable">time_increment</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Grandpa.Protocol.html#old_time_increment:11"><span class="id" title="variable">old_time_increment</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="State1" class="idref" href="#State1"><span class="id" title="section">State1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<a id="preview_number:16" class="idref" href="#preview_number:16"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:17" class="idref" href="#precommit_number:17"><span class="id" title="binder">precommit_number</span></a> <a id="last_block_number:18" class="idref" href="#last_block_number:18"><span class="id" title="binder">last_block_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="preview_voters:19" class="idref" href="#preview_voters:19"><span class="id" title="binder">preview_voters</span></a>:<a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.preview_number"><span class="id" title="variable">preview_number</span></a> }.<br/>
<span class="id" title="keyword">Context</span> {<a id="precommit_voters:20" class="idref" href="#precommit_voters:20"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.precommit_number"><span class="id" title="variable">precommit_number</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="last_block:21" class="idref" href="#last_block:21"><span class="id" title="binder">last_block</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.last_block_number"><span class="id" title="variable">last_block_number</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_time:22" class="idref" href="#round_time:22"><span class="id" title="binder">round_time</span></a> : <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_number:23" class="idref" href="#round_number:23"><span class="id" title="binder">round_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="time_increment:24" class="idref" href="#time_increment:24"><span class="id" title="binder">time_increment</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_preview_votes" class="idref" href="#get_preview_votes"><span class="id" title="definition">get_preview_votes</span></a><br/>
&nbsp;&nbsp;(<a id="round_state:25" class="idref" href="#round_state:25"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#State1.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.time_increment"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <br/>
&nbsp;&nbsp;(<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.last_block"><span class="id" title="variable">last_block</span></a>)<br/>
&nbsp;&nbsp;:= <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#round_state:25"><span class="id" title="variable">round_state</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#InitialRoundState"><span class="id" title="constructor">InitialRoundState</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Grandpa.Votes.html#VotesC"><span class="id" title="constructor">VotesC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a> <br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#RoundStateUpdate"><span class="id" title="constructor">RoundStateUpdate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">new_preview_votes</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">new_preview_votes</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_precommit_votes" class="idref" href="#get_precommit_votes"><span class="id" title="definition">get_precommit_votes</span></a><br/>
&nbsp;&nbsp;(<a id="round_state:27" class="idref" href="#round_state:27"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#State1.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.time_increment"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <br/>
&nbsp;&nbsp;(<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.precommit_voters"><span class="id" title="variable">precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State1.last_block"><span class="id" title="variable">last_block</span></a>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#round_state:27"><span class="id" title="variable">round_state</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#InitialRoundState"><span class="id" title="constructor">InitialRoundState</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>⇒ <a class="idref" href="Grandpa.Votes.html#VotesC"><span class="id" title="constructor">VotesC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a> <br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#RoundStateUpdate"><span class="id" title="constructor">RoundStateUpdate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">new_precommit_votes</span> ⇒ <span class="id" title="var">new_precommit_votes</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Grandpa.Protocol.html#State1"><span class="id" title="section">State1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_all_preview_votes" class="idref" href="#get_all_preview_votes"><span class="id" title="definition">get_all_preview_votes</span></a>{<a id="preview_number:29" class="idref" href="#preview_number:29"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:30" class="idref" href="#precommit_number:30"><span class="id" title="binder">precommit_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="preview_voters:31" class="idref" href="#preview_voters:31"><span class="id" title="binder">preview_voters</span></a> : <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_number:29"><span class="id" title="variable">preview_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="precommit_voters:32" class="idref" href="#precommit_voters:32"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_number:30"><span class="id" title="variable">precommit_number</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_time:33" class="idref" href="#round_time:33"><span class="id" title="binder">round_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_number:34" class="idref" href="#round_number:34"><span class="id" title="binder">round_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="last_block_number:35" class="idref" href="#last_block_number:35"><span class="id" title="binder">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="last_block:36" class="idref" href="#last_block:36"><span class="id" title="binder">last_block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block_number:35"><span class="id" title="variable">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="time_increment:37" class="idref" href="#time_increment:37"><span class="id" title="binder">time_increment</span></a>: <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="round_state:38" class="idref" href="#round_state:38"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:31"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:32"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#round_time:33"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:36"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#round_number:34"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#time_increment:37"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <br/>
&nbsp;&nbsp;(<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:31"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:36"><span class="id" title="variable">last_block</span></a>)<br/>
&nbsp;&nbsp;:= <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#round_state:38"><span class="id" title="variable">round_state</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#InitialRoundState"><span class="id" title="constructor">InitialRoundState</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Grandpa.Votes.html#VotesC"><span class="id" title="constructor">VotesC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a> <br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#RoundStateUpdate"><span class="id" title="constructor">RoundStateUpdate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">old_state</span>  <span class="id" title="var">_</span> <span class="id" title="var">new_preview_votes</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Grandpa.Votes.html#mergeVotes"><span class="id" title="definition">mergeVotes</span></a> (<a class="idref" href="Grandpa.Protocol.html#get_all_preview_votes:39"><span class="id" title="definition">get_all_preview_votes</span></a> <span class="id" title="var">old_state</span>) <span class="id" title="var">new_preview_votes</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_all_precommit_votes" class="idref" href="#get_all_precommit_votes"><span class="id" title="definition">get_all_precommit_votes</span></a>{<a id="preview_number:41" class="idref" href="#preview_number:41"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:42" class="idref" href="#precommit_number:42"><span class="id" title="binder">precommit_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="preview_voters:43" class="idref" href="#preview_voters:43"><span class="id" title="binder">preview_voters</span></a> : <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_number:41"><span class="id" title="variable">preview_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="precommit_voters:44" class="idref" href="#precommit_voters:44"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_number:42"><span class="id" title="variable">precommit_number</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_time:45" class="idref" href="#round_time:45"><span class="id" title="binder">round_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_number:46" class="idref" href="#round_number:46"><span class="id" title="binder">round_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="last_block_number:47" class="idref" href="#last_block_number:47"><span class="id" title="binder">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="last_block:48" class="idref" href="#last_block:48"><span class="id" title="binder">last_block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block_number:47"><span class="id" title="variable">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="time_increment:49" class="idref" href="#time_increment:49"><span class="id" title="binder">time_increment</span></a>: <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="round_state:50" class="idref" href="#round_state:50"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:43"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:44"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#round_time:45"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:48"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#round_number:46"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#time_increment:49"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <br/>
&nbsp;&nbsp;(<a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:44"><span class="id" title="variable">precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:48"><span class="id" title="variable">last_block</span></a>)<br/>
&nbsp;&nbsp;:= <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#round_state:50"><span class="id" title="variable">round_state</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#InitialRoundState"><span class="id" title="constructor">InitialRoundState</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>⇒ <a class="idref" href="Grandpa.Votes.html#VotesC"><span class="id" title="constructor">VotesC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a> <br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#RoundStateUpdate"><span class="id" title="constructor">RoundStateUpdate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">old_state</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">new_precommit_votes</span> ⇒ <a class="idref" href="Grandpa.Votes.html#mergeVotes"><span class="id" title="definition">mergeVotes</span></a> (<a class="idref" href="Grandpa.Protocol.html#get_all_precommit_votes:51"><span class="id" title="definition">get_all_precommit_votes</span></a> <span class="id" title="var">old_state</span>) <span class="id" title="var">new_precommit_votes</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="voter_voted_in_preview" class="idref" href="#voter_voted_in_preview"><span class="id" title="definition">voter_voted_in_preview</span></a> {<a id="preview_number:53" class="idref" href="#preview_number:53"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:54" class="idref" href="#precommit_number:54"><span class="id" title="binder">precommit_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="preview_voters:55" class="idref" href="#preview_voters:55"><span class="id" title="binder">preview_voters</span></a> : <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_number:53"><span class="id" title="variable">preview_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="precommit_voters:56" class="idref" href="#precommit_voters:56"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_number:54"><span class="id" title="variable">precommit_number</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_time:57" class="idref" href="#round_time:57"><span class="id" title="binder">round_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_number:58" class="idref" href="#round_number:58"><span class="id" title="binder">round_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="last_block_number:59" class="idref" href="#last_block_number:59"><span class="id" title="binder">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="last_block:60" class="idref" href="#last_block:60"><span class="id" title="binder">last_block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block_number:59"><span class="id" title="variable">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="time_increment:61" class="idref" href="#time_increment:61"><span class="id" title="binder">time_increment</span></a>: <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="voter:62" class="idref" href="#voter:62"><span class="id" title="binder">voter</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>)<br/>
&nbsp;&nbsp;(<a id="round_state:63" class="idref" href="#round_state:63"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:55"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:56"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#round_time:57"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:60"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#round_number:58"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#time_increment:61"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:= <br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="preview_votes:64" class="idref" href="#preview_votes:64"><span class="id" title="binder">preview_votes</span></a> := <a class="idref" href="Grandpa.Protocol.html#get_all_preview_votes"><span class="id" title="definition">get_all_preview_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:63"><span class="id" title="variable">round_state</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Grandpa.Votes.html#in_Voters_bool"><span class="id" title="definition">in_Voters_bool</span></a> <a class="idref" href="Grandpa.Protocol.html#voter:62"><span class="id" title="variable">voter</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:55"><span class="id" title="variable">preview_voters</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Grandpa.Votes.html#voter_voted_in_votes"><span class="id" title="definition">voter_voted_in_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#voter:62"><span class="id" title="variable">voter</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_votes:64"><span class="id" title="variable">preview_votes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span>  <a id="voter_voted_in_precommit" class="idref" href="#voter_voted_in_precommit"><span class="id" title="definition">voter_voted_in_precommit</span></a> {<a id="preview_number:65" class="idref" href="#preview_number:65"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:66" class="idref" href="#precommit_number:66"><span class="id" title="binder">precommit_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="preview_voters:67" class="idref" href="#preview_voters:67"><span class="id" title="binder">preview_voters</span></a> : <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_number:65"><span class="id" title="variable">preview_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="precommit_voters:68" class="idref" href="#precommit_voters:68"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_number:66"><span class="id" title="variable">precommit_number</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_time:69" class="idref" href="#round_time:69"><span class="id" title="binder">round_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_number:70" class="idref" href="#round_number:70"><span class="id" title="binder">round_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="last_block_number:71" class="idref" href="#last_block_number:71"><span class="id" title="binder">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="last_block:72" class="idref" href="#last_block:72"><span class="id" title="binder">last_block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block_number:71"><span class="id" title="variable">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="time_increment:73" class="idref" href="#time_increment:73"><span class="id" title="binder">time_increment</span></a>: <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="voter:74" class="idref" href="#voter:74"><span class="id" title="binder">voter</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>)<br/>
&nbsp;&nbsp;(<a id="round_state:75" class="idref" href="#round_state:75"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:67"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:68"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#round_time:69"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:72"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#round_number:70"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#time_increment:73"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:= <br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="precommit_votes:76" class="idref" href="#precommit_votes:76"><span class="id" title="binder">precommit_votes</span></a> := <a class="idref" href="Grandpa.Protocol.html#get_all_precommit_votes"><span class="id" title="definition">get_all_precommit_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:75"><span class="id" title="variable">round_state</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Grandpa.Votes.html#in_Voters_bool"><span class="id" title="definition">in_Voters_bool</span></a> <a class="idref" href="Grandpa.Protocol.html#voter:74"><span class="id" title="variable">voter</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:68"><span class="id" title="variable">precommit_voters</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Grandpa.Votes.html#voter_voted_in_votes"><span class="id" title="definition">voter_voted_in_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#voter:74"><span class="id" title="variable">voter</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_votes:76"><span class="id" title="variable">precommit_votes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="Estimate" class="idref" href="#Estimate"><span class="id" title="inductive">Estimate</span></a> {<a id="preview_number:77" class="idref" href="#preview_number:77"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:78" class="idref" href="#precommit_number:78"><span class="id" title="binder">precommit_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="preview_voters:79" class="idref" href="#preview_voters:79"><span class="id" title="binder">preview_voters</span></a> : <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_number:77"><span class="id" title="variable">preview_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="precommit_voters:80" class="idref" href="#precommit_voters:80"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_number:78"><span class="id" title="variable">precommit_number</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_time:81" class="idref" href="#round_time:81"><span class="id" title="binder">round_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;{<a id="round_number:82" class="idref" href="#round_number:82"><span class="id" title="binder">round_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="last_block_number:83" class="idref" href="#last_block_number:83"><span class="id" title="binder">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="last_block:84" class="idref" href="#last_block:84"><span class="id" title="binder">last_block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block_number:83"><span class="id" title="variable">last_block_number</span></a>} <br/>
&nbsp;&nbsp;{<a id="time_increment:85" class="idref" href="#time_increment:85"><span class="id" title="binder">time_increment</span></a>: <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="round_state:86" class="idref" href="#round_state:86"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_voters:79"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_voters:80"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#round_time:81"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:84"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#round_number:82"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#time_increment:85"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a><a id="n:87" class="idref" href="#n:87"><span class="id" title="binder">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#n:87"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EstimateOrigin" class="idref" href="#EstimateOrigin"><span class="id" title="constructor">EstimateOrigin</span></a> : <a class="idref" href="Grandpa.Protocol.html#round_number:82"><span class="id" title="variable">round_number</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Protocol.html#Estimate:88"><span class="id" title="inductive">Estimate</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:86"><span class="id" title="variable">round_state</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> 0 <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|<a id="EstimateC" class="idref" href="#EstimateC"><span class="id" title="constructor">EstimateC</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="new_block_number:90" class="idref" href="#new_block_number:90"><span class="id" title="binder">new_block_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_block:91" class="idref" href="#new_block:91"><span class="id" title="binder">new_block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#new_block_number:90"><span class="id" title="variable">new_block_number</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="is_children:92" class="idref" href="#is_children:92"><span class="id" title="binder">is_children</span></a>: <a class="idref" href="Grandpa.Blocks.html#IsChildren"><span class="id" title="inductive">IsChildren</span></a> <a class="idref" href="Grandpa.Protocol.html#new_block:91"><span class="id" title="variable">new_block</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:84"><span class="id" title="variable">last_block</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_block_number:93" class="idref" href="#g_block_number:93"><span class="id" title="binder">g_block_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_preview:94" class="idref" href="#g_preview:94"><span class="id" title="binder">g_preview</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#g_block_number:93"><span class="id" title="variable">g_block_number</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_preview_is_some:95" class="idref" href="#g_preview_is_some:95"><span class="id" title="binder">g_preview_is_some</span></a> : <a class="idref" href="Grandpa.Preliminars.html#g"><span class="id" title="definition">g</span></a> ( <a class="idref" href="Grandpa.Protocol.html#get_preview_votes"><span class="id" title="definition">get_preview_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:86"><span class="id" title="variable">round_state</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Protocol.html#g_block_number:93"><span class="id" title="variable">g_block_number</span></a> <a class="idref" href="Grandpa.Protocol.html#g_preview:94"><span class="id" title="variable">g_preview</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_block_is_ancestor_of_g:96" class="idref" href="#new_block_is_ancestor_of_g:96"><span class="id" title="binder">new_block_is_ancestor_of_g</span></a>: <a class="idref" href="Grandpa.Blocks.html#Prefix"><span class="id" title="inductive">Prefix</span></a> <a class="idref" href="Grandpa.Protocol.html#new_block:91"><span class="id" title="variable">new_block</span></a> <a class="idref" href="Grandpa.Protocol.html#g_preview:94"><span class="id" title="variable">g_preview</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Protocol.html#Estimate:88"><span class="id" title="inductive">Estimate</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:86"><span class="id" title="variable">round_state</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Protocol.html#new_block_number:90"><span class="id" title="variable">new_block_number</span></a> <a class="idref" href="Grandpa.Protocol.html#new_block:91"><span class="id" title="variable">new_block</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="State2" class="idref" href="#State2"><span class="id" title="section">State2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<a id="preview_number:97" class="idref" href="#preview_number:97"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:98" class="idref" href="#precommit_number:98"><span class="id" title="binder">precommit_number</span></a> <a id="last_block_number:99" class="idref" href="#last_block_number:99"><span class="id" title="binder">last_block_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="preview_voters:100" class="idref" href="#preview_voters:100"><span class="id" title="binder">preview_voters</span></a>:<a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.preview_number"><span class="id" title="variable">preview_number</span></a> }.<br/>
<span class="id" title="keyword">Context</span> {<a id="precommit_voters:101" class="idref" href="#precommit_voters:101"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.precommit_number"><span class="id" title="variable">precommit_number</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="last_block:102" class="idref" href="#last_block:102"><span class="id" title="binder">last_block</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.last_block_number"><span class="id" title="variable">last_block_number</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_time:103" class="idref" href="#round_time:103"><span class="id" title="binder">round_time</span></a> : <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_number:104" class="idref" href="#round_number:104"><span class="id" title="binder">round_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="time_increment:105" class="idref" href="#time_increment:105"><span class="id" title="binder">time_increment</span></a> : <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_estimate_block" class="idref" href="#get_estimate_block"><span class="id" title="definition">get_estimate_block</span></a><br/>
&nbsp;&nbsp;{<a id="round_state:106" class="idref" href="#round_state:106"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#State2.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.time_increment"><span class="id" title="variable">time_increment</span></a>}<br/>
&nbsp;&nbsp;{<a id="n:107" class="idref" href="#n:107"><span class="id" title="binder">n</span></a>}<br/>
&nbsp;&nbsp;{<a id="block:108" class="idref" href="#block:108"><span class="id" title="binder">block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#n:107"><span class="id" title="variable">n</span></a>}<br/>
&nbsp;&nbsp;(<a id="estimate:109" class="idref" href="#estimate:109"><span class="id" title="binder">estimate</span></a> :<a class="idref" href="Grandpa.Protocol.html#Estimate"><span class="id" title="inductive">Estimate</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:106"><span class="id" title="variable">round_state</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Protocol.html#n:107"><span class="id" title="variable">n</span></a> <a class="idref" href="Grandpa.Protocol.html#block:108"><span class="id" title="variable">block</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#n:107"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#estimate:109"><span class="id" title="variable">estimate</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#EstimateOrigin"><span class="id" title="constructor">EstimateOrigin</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#EstimateC"><span class="id" title="constructor">EstimateC</span></a> <span class="id" title="var">_</span> <span class="id" title="var">new_block</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">new_block</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_estimate_aux_recursive" class="idref" href="#get_estimate_aux_recursive"><span class="id" title="definition">get_estimate_aux_recursive</span></a> {<a id="gv_block_number:111" class="idref" href="#gv_block_number:111"><span class="id" title="binder">gv_block_number</span></a> <a id="block_number:112" class="idref" href="#block_number:112"><span class="id" title="binder">block_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;(<a id="block:113" class="idref" href="#block:113"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#block_number:112"><span class="id" title="variable">block_number</span></a>)<br/>
&nbsp;&nbsp;(<a id="gv:114" class="idref" href="#gv:114"><span class="id" title="binder">gv</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#gv_block_number:111"><span class="id" title="variable">gv_block_number</span></a>)<br/>
&nbsp;&nbsp;(<a id="precommit_supermajority_blocks:115" class="idref" href="#precommit_supermajority_blocks:115"><span class="id" title="binder">precommit_supermajority_blocks</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Grandpa.Protocol.html#block_number:112"><span class="id" title="variable">block_number</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="Grandpa.Protocol.html#gv_block_number:111"><span class="id" title="variable">gv_block_number</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="find_block:119" class="idref" href="#find_block:119"><span class="id" title="binder">find_block</span></a> <a id="any_block:117" class="idref" href="#any_block:117"><span class="id" title="binder">any_block</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#any_block:117"><span class="id" title="variable">any_block</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">block_number</span> <span class="id" title="var">block</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="Grandpa.Blocks.html#eqb"><span class="id" title="definition">Blocks.eqb</span></a> <a class="idref" href="Grandpa.Protocol.html#gv:114"><span class="id" title="variable">gv</span></a> <a class="idref" href="Grandpa.Protocol.html#block:113"><span class="id" title="variable">block</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">List.find</span></a> <a class="idref" href="Grandpa.Protocol.html#find_block:119"><span class="id" title="variable">find_block</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_supermajority_blocks:115"><span class="id" title="variable">precommit_supermajority_blocks</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#gv:114"><span class="id" title="variable">gv</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <span class="id" title="var">old_block</span> <span class="id" title="var">_</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#get_estimate_aux_recursive:116"><span class="id" title="definition">get_estimate_aux_recursive</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#block:113"><span class="id" title="variable">block</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">old_block</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#precommit_supermajority_blocks:115"><span class="id" title="variable">precommit_supermajority_blocks</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">any_block</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">any_block</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_estimate_aux" class="idref" href="#get_estimate_aux"><span class="id" title="definition">get_estimate_aux</span></a> <br/>
&nbsp;&nbsp;(<a id="preview_votes:121" class="idref" href="#preview_votes:121"><span class="id" title="binder">preview_votes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.last_block"><span class="id" title="variable">last_block</span></a>) <br/>
&nbsp;&nbsp;(<a id="precommit_votes:122" class="idref" href="#precommit_votes:122"><span class="id" title="binder">precommit_votes</span></a>: <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.precommit_voters"><span class="id" title="variable">precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.last_block"><span class="id" title="variable">last_block</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Preliminars.html#g"><span class="id" title="definition">g</span></a> <a class="idref" href="Grandpa.Protocol.html#preview_votes:121"><span class="id" title="variable">preview_votes</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">g_preview_votes</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="precommit_supermajority_blocks:123" class="idref" href="#precommit_supermajority_blocks:123"><span class="id" title="binder">precommit_supermajority_blocks</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Votes.html#get_supermajority_blocks"><span class="id" title="definition">get_supermajority_blocks</span></a> <a class="idref" href="Grandpa.Protocol.html#precommit_votes:122"><span class="id" title="variable">precommit_votes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#get_estimate_aux_recursive"><span class="id" title="definition">get_estimate_aux_recursive</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#State2.last_block"><span class="id" title="variable">last_block</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">g_preview_votes</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#precommit_supermajority_blocks:123"><span class="id" title="variable">precommit_supermajority_blocks</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_estimate" class="idref" href="#get_estimate"><span class="id" title="definition">get_estimate</span></a> <br/>
&nbsp;&nbsp;(<a id="round_state:124" class="idref" href="#round_state:124"><span class="id" title="binder">round_state</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#State2.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.round_number"><span class="id" title="variable">round_number</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#State2.time_increment"><span class="id" title="variable">time_increment</span></a><br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#round_state:124"><span class="id" title="variable">round_state</span></a>  <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#InitialRoundState"><span class="id" title="constructor">InitialRoundState</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="Grandpa.Protocol.html#State2.round_number"><span class="id" title="variable">round_number</span></a> 0 <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> 0 <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Protocol.html#RoundStateUpdate"><span class="id" title="constructor">RoundStateUpdate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="all_preview_votes:126" class="idref" href="#all_preview_votes:126"><span class="id" title="binder">all_preview_votes</span></a> := <a class="idref" href="Grandpa.Protocol.html#get_all_preview_votes"><span class="id" title="definition">get_all_preview_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:124"><span class="id" title="variable">round_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="all_precommit_votes:127" class="idref" href="#all_precommit_votes:127"><span class="id" title="binder">all_precommit_votes</span></a> := <a class="idref" href="Grandpa.Protocol.html#get_all_precommit_votes"><span class="id" title="definition">get_all_precommit_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:124"><span class="id" title="variable">round_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#get_estimate_aux"><span class="id" title="definition">get_estimate_aux</span></a> <a class="idref" href="Grandpa.Protocol.html#all_preview_votes:126"><span class="id" title="variable">all_preview_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#all_precommit_votes:127"><span class="id" title="variable">all_precommit_votes</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Grandpa.Protocol.html#State2"><span class="id" title="section">State2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="State3" class="idref" href="#State3"><span class="id" title="section">State3</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<a id="preview_number:128" class="idref" href="#preview_number:128"><span class="id" title="binder">preview_number</span></a> <a id="precommit_number:129" class="idref" href="#precommit_number:129"><span class="id" title="binder">precommit_number</span></a> <a id="last_block_number:130" class="idref" href="#last_block_number:130"><span class="id" title="binder">last_block_number</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="preview_voters:131" class="idref" href="#preview_voters:131"><span class="id" title="binder">preview_voters</span></a>:<a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.preview_number"><span class="id" title="variable">preview_number</span></a> }.<br/>
<span class="id" title="keyword">Context</span> {<a id="precommit_voters:132" class="idref" href="#precommit_voters:132"><span class="id" title="binder">precommit_voters</span></a>: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.precommit_number"><span class="id" title="variable">precommit_number</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="last_block:133" class="idref" href="#last_block:133"><span class="id" title="binder">last_block</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.last_block_number"><span class="id" title="variable">last_block_number</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_time:134" class="idref" href="#round_time:134"><span class="id" title="binder">round_time</span></a> : <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="round_number:135" class="idref" href="#round_number:135"><span class="id" title="binder">round_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}.<br/>
<span class="id" title="keyword">Context</span> {<a id="time_increment:136" class="idref" href="#time_increment:136"><span class="id" title="binder">time_increment</span></a> : <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="get_estimate_aux_recursive_is_none_on_nil" class="idref" href="#get_estimate_aux_recursive_is_none_on_nil"><span class="id" title="lemma">get_estimate_aux_recursive_is_none_on_nil</span></a> : <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="m:137" class="idref" href="#m:137"><span class="id" title="binder">m</span></a>} (<a id="last_block_lemma:138" class="idref" href="#last_block_lemma:138"><span class="id" title="binder">last_block_lemma</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#m:137"><span class="id" title="variable">m</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="n:139" class="idref" href="#n:139"><span class="id" title="binder">n</span></a>} (<a id="block:140" class="idref" href="#block:140"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#n:139"><span class="id" title="variable">n</span></a>) ,   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#get_estimate_aux_recursive"><span class="id" title="definition">get_estimate_aux_recursive</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#State3.last_block"><span class="id" title="variable">last_block</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#block:140"><span class="id" title="variable">block</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="get_estimate_result_is_children" class="idref" href="#get_estimate_result_is_children"><span class="id" title="lemma">get_estimate_result_is_children</span></a>  <br/>
&nbsp;&nbsp;{<a id="block_number:141" class="idref" href="#block_number:141"><span class="id" title="binder">block_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="block:142" class="idref" href="#block:142"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#block_number:141"><span class="id" title="variable">block_number</span></a>}<br/>
&nbsp;&nbsp;(<a id="round_state:143" class="idref" href="#round_state:143"><span class="id" title="binder">round_state</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#State3.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a><br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;(<a id="round_is_not_zero:144" class="idref" href="#round_is_not_zero:144"><span class="id" title="binder">round_is_not_zero</span></a>: <a class="idref" href="Grandpa.Protocol.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0)<br/>
&nbsp;&nbsp;(<a id="get_estimate_result:145" class="idref" href="#get_estimate_result:145"><span class="id" title="binder">get_estimate_result</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Protocol.html#get_estimate"><span class="id" title="definition">get_estimate</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:143"><span class="id" title="variable">round_state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Protocol.html#block_number:141"><span class="id" title="variable">block_number</span></a> <a class="idref" href="Grandpa.Protocol.html#block:142"><span class="id" title="variable">block</span></a>)<br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#Prefix"><span class="id" title="inductive">Prefix</span></a> <a class="idref" href="Grandpa.Protocol.html#block:142"><span class="id" title="variable">block</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.last_block"><span class="id" title="variable">last_block</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="get_estimate_output_is_estimate" class="idref" href="#get_estimate_output_is_estimate"><span class="id" title="lemma">get_estimate_output_is_estimate</span></a> <br/>
&nbsp;&nbsp;{<a id="block_number:146" class="idref" href="#block_number:146"><span class="id" title="binder">block_number</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="block:147" class="idref" href="#block:147"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#block_number:146"><span class="id" title="variable">block_number</span></a>}<br/>
&nbsp;&nbsp;(<a id="round_state:148" class="idref" href="#round_state:148"><span class="id" title="binder">round_state</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#State3.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a><br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;(<a id="get_estimate_result:149" class="idref" href="#get_estimate_result:149"><span class="id" title="binder">get_estimate_result</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Protocol.html#get_estimate"><span class="id" title="definition">get_estimate</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:148"><span class="id" title="variable">round_state</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Protocol.html#block_number:146"><span class="id" title="variable">block_number</span></a> <a class="idref" href="Grandpa.Protocol.html#block:147"><span class="id" title="variable">block</span></a>)<br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Protocol.html#Estimate"><span class="id" title="inductive">Estimate</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:148"><span class="id" title="variable">round_state</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Protocol.html#block_number:146"><span class="id" title="variable">block_number</span></a> <a class="idref" href="Grandpa.Protocol.html#block:147"><span class="id" title="variable">block</span></a>).<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="Completable" class="idref" href="#Completable"><span class="id" title="inductive">Completable</span></a> <br/>
&nbsp;&nbsp;(<a id="round_state:150" class="idref" href="#round_state:150"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#State3.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;| <a id="CompletableBelowPreview" class="idref" href="#CompletableBelowPreview"><span class="id" title="constructor">CompletableBelowPreview</span></a> {<a id="number_and_block:153" class="idref" href="#number_and_block:153"><span class="id" title="binder">number_and_block</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:154" class="idref" href="#e:154"><span class="id" title="binder">e</span></a>: <a class="idref" href="Grandpa.Protocol.html#Estimate"><span class="id" title="inductive">Estimate</span></a>  <a class="idref" href="Grandpa.Protocol.html#round_state:150"><span class="id" title="variable">round_state</span></a> <a class="idref" href="Grandpa.Protocol.html#number_and_block:153"><span class="id" title="variable">number_and_block</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_block_number:155" class="idref" href="#g_block_number:155"><span class="id" title="binder">g_block_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_preview:156" class="idref" href="#g_preview:156"><span class="id" title="binder">g_preview</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#g_block_number:155"><span class="id" title="variable">g_block_number</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_preview_is_some:157" class="idref" href="#g_preview_is_some:157"><span class="id" title="binder">g_preview_is_some</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Preliminars.html#g"><span class="id" title="definition">g</span></a> ( <a class="idref" href="Grandpa.Protocol.html#get_preview_votes"><span class="id" title="definition">get_preview_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:150"><span class="id" title="variable">round_state</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Protocol.html#g_block_number:155"><span class="id" title="variable">g_block_number</span></a> <a class="idref" href="Grandpa.Protocol.html#g_preview:156"><span class="id" title="variable">g_preview</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="new_block_is_below_g:158" class="idref" href="#new_block_is_below_g:158"><span class="id" title="binder">new_block_is_below_g</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="Grandpa.Protocol.html#number_and_block:153"><span class="id" title="variable">number_and_block</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Grandpa.Protocol.html#g_block_number:155"><span class="id" title="variable">g_block_number</span></a>)<br/>
&nbsp;&nbsp;| <a id="CompletableByImpossible" class="idref" href="#CompletableByImpossible"><span class="id" title="constructor">CompletableByImpossible</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_block_number:159" class="idref" href="#g_block_number:159"><span class="id" title="binder">g_block_number</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_preview:160" class="idref" href="#g_preview:160"><span class="id" title="binder">g_preview</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#g_block_number:159"><span class="id" title="variable">g_block_number</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="g_preview_is_some:161" class="idref" href="#g_preview_is_some:161"><span class="id" title="binder">g_preview_is_some</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Preliminars.html#g"><span class="id" title="definition">g</span></a> ( <a class="idref" href="Grandpa.Protocol.html#get_preview_votes"><span class="id" title="definition">get_preview_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:150"><span class="id" title="variable">round_state</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Protocol.html#g_block_number:159"><span class="id" title="variable">g_block_number</span></a> <a class="idref" href="Grandpa.Protocol.html#g_preview:160"><span class="id" title="variable">g_preview</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="cant_have_supermajority:164" class="idref" href="#cant_have_supermajority:164"><span class="id" title="binder">cant_have_supermajority</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <a id="n:162" class="idref" href="#n:162"><span class="id" title="binder">n</span></a> (<a id="block:163" class="idref" href="#block:163"><span class="id" title="binder">block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#n:162"><span class="id" title="variable">n</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;, <a class="idref" href="Grandpa.Protocol.html#g_block_number:159"><span class="id" title="variable">g_block_number</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Grandpa.Protocol.html#n:162"><span class="id" title="variable">n</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Votes.html#has_supermajority"><span class="id" title="definition">has_supermajority</span></a> (<a class="idref" href="Grandpa.Protocol.html#get_precommit_votes"><span class="id" title="definition">get_precommit_votes</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:150"><span class="id" title="variable">round_state</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="try_to_complete_round" class="idref" href="#try_to_complete_round"><span class="id" title="definition">try_to_complete_round</span></a><br/>
&nbsp;&nbsp;(<a id="round_state:165" class="idref" href="#round_state:165"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#State3.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Grandpa.Protocol.html#Completable"><span class="id" title="inductive">Completable</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:165"><span class="id" title="variable">round_state</span></a>).<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_completable" class="idref" href="#is_completable"><span class="id" title="definition">is_completable</span></a> <br/>
&nbsp;&nbsp;(<a id="round_state:166" class="idref" href="#round_state:166"><span class="id" title="binder">round_state</span></a>: <a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.preview_voters"><span class="id" title="variable">preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.precommit_voters"><span class="id" title="variable">precommit_voters</span></a>  <a class="idref" href="Grandpa.Protocol.html#State3.round_time"><span class="id" title="variable">round_time</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.last_block"><span class="id" title="variable">last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.round_number"><span class="id" title="variable">round_number</span></a> <a class="idref" href="Grandpa.Protocol.html#State3.time_increment"><span class="id" title="variable">time_increment</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#try_to_complete_round"><span class="id" title="axiom">try_to_complete_round</span></a> <a class="idref" href="Grandpa.Protocol.html#round_state:166"><span class="id" title="variable">round_state</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Grandpa.Protocol.html#State3"><span class="id" title="section">State3</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Source" class="idref" href="#Source"><span class="id" title="definition">Source</span></a> (<a id="X:167" class="idref" href="#X:167"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>) := <span class="id" title="keyword">∀</span> (<a id="t:168" class="idref" href="#t:168"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:169" class="idref" href="#r:169"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:170" class="idref" href="#v:170"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>), <a class="idref" href="Grandpa.Protocol.html#X:167"><span class="id" title="variable">X</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="const_source" class="idref" href="#const_source"><span class="id" title="definition">const_source</span></a> {<a id="X:171" class="idref" href="#X:171"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="x:172" class="idref" href="#x:172"><span class="id" title="binder">x</span></a>:<a class="idref" href="Grandpa.Protocol.html#X:171"><span class="id" title="variable">X</span></a>) : <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#X:171"><span class="id" title="variable">X</span></a> := <span class="id" title="keyword">fun</span> <a id="t:173" class="idref" href="#t:173"><span class="id" title="binder">t</span></a> <a id="r:174" class="idref" href="#r:174"><span class="id" title="binder">r</span></a> <a id="v:175" class="idref" href="#v:175"><span class="id" title="binder">v</span></a> ⇒ <a class="idref" href="Grandpa.Protocol.html#x:172"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Voters_source" class="idref" href="#Voters_source"><span class="id" title="definition">Voters_source</span></a> (<a id="s_bizantine:176" class="idref" href="#s_bizantine:176"><span class="id" title="binder">s_bizantine</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <span class="id" title="keyword">∀</span> <a id="t:177" class="idref" href="#t:177"><span class="id" title="binder">t</span></a> <a id="r:178" class="idref" href="#r:178"><span class="id" title="binder">r</span></a> <a id="v:179" class="idref" href="#v:179"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_bizantine:176"><span class="id" title="variable">s_bizantine</span></a> <a class="idref" href="Grandpa.Protocol.html#t:177"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:178"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:179"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Block_source" class="idref" href="#Block_source"><span class="id" title="definition">Block_source</span></a> (<a id="s:180" class="idref" href="#s:180"><span class="id" title="binder">s</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <span class="id" title="keyword">∀</span> <a id="t:181" class="idref" href="#t:181"><span class="id" title="binder">t</span></a> <a id="r:182" class="idref" href="#r:182"><span class="id" title="binder">r</span></a> <a id="v:183" class="idref" href="#v:183"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> (<a class="idref" href="Grandpa.Protocol.html#s:180"><span class="id" title="variable">s</span></a> <a class="idref" href="Grandpa.Protocol.html#t:181"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:182"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:183"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Vote_source" class="idref" href="#Vote_source"><span class="id" title="definition">Vote_source</span></a> (<a id="t:184" class="idref" href="#t:184"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:185" class="idref" href="#r:185"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:186" class="idref" href="#v:186"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>) {<a id="s_voters_nat:187" class="idref" href="#s_voters_nat:187"><span class="id" title="binder">s_voters_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;(<a id="s_voters:191" class="idref" href="#s_voters:191"><span class="id" title="binder">s_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:188" class="idref" href="#t:188"><span class="id" title="binder">t</span></a> <a id="r:189" class="idref" href="#r:189"><span class="id" title="binder">r</span></a> <a id="v:190" class="idref" href="#v:190"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_voters_nat:187"><span class="id" title="variable">s_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:188"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:189"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:190"><span class="id" title="variable">v</span></a>)) <br/>
&nbsp;&nbsp;{<a id="s_blocks_nat:192" class="idref" href="#s_blocks_nat:192"><span class="id" title="binder">s_blocks_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a id="s_blocks:193" class="idref" href="#s_blocks:193"><span class="id" title="binder">s_blocks</span></a> : <a class="idref" href="Grandpa.Protocol.html#Block_source"><span class="id" title="definition">Block_source</span></a> <a class="idref" href="Grandpa.Protocol.html#s_blocks_nat:192"><span class="id" title="variable">s_blocks_nat</span></a>)<br/>
&nbsp;&nbsp;:=  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Votes.html#Vote"><span class="id" title="inductive">Vote</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_voters:191"><span class="id" title="variable">s_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:184"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:185"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:186"><span class="id" title="variable">v</span></a>) (<a class="idref" href="Grandpa.Protocol.html#s_blocks:193"><span class="id" title="variable">s_blocks</span></a> <a class="idref" href="Grandpa.Protocol.html#t:184"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:185"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:186"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Votes_source" class="idref" href="#Votes_source"><span class="id" title="definition">Votes_source</span></a>  (<a id="t:194" class="idref" href="#t:194"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:195" class="idref" href="#r:195"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:196" class="idref" href="#v:196"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>) {<a id="s_voters_nat:197" class="idref" href="#s_voters_nat:197"><span class="id" title="binder">s_voters_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;(<a id="s_voters:201" class="idref" href="#s_voters:201"><span class="id" title="binder">s_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:198" class="idref" href="#t:198"><span class="id" title="binder">t</span></a> <a id="r:199" class="idref" href="#r:199"><span class="id" title="binder">r</span></a> <a id="v:200" class="idref" href="#v:200"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_voters_nat:197"><span class="id" title="variable">s_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:198"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:199"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:200"><span class="id" title="variable">v</span></a>)) <br/>
&nbsp;&nbsp;{<a id="s_blocks_nat:202" class="idref" href="#s_blocks_nat:202"><span class="id" title="binder">s_blocks_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a id="s_blocks:203" class="idref" href="#s_blocks:203"><span class="id" title="binder">s_blocks</span></a> : <a class="idref" href="Grandpa.Protocol.html#Block_source"><span class="id" title="definition">Block_source</span></a> <a class="idref" href="Grandpa.Protocol.html#s_blocks_nat:202"><span class="id" title="variable">s_blocks_nat</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="Grandpa.Votes.html#Votes"><span class="id" title="inductive">Votes</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_voters:201"><span class="id" title="variable">s_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:194"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:195"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:196"><span class="id" title="variable">v</span></a>) (<a class="idref" href="Grandpa.Protocol.html#s_blocks:203"><span class="id" title="variable">s_blocks</span></a> <a class="idref" href="Grandpa.Protocol.html#t:194"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:195"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:196"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="RoundState_source" class="idref" href="#RoundState_source"><span class="id" title="definition">RoundState_source</span></a> (<a id="t:204" class="idref" href="#t:204"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:205" class="idref" href="#r:205"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:206" class="idref" href="#v:206"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>) {<a id="s_preview_voters_nat:207" class="idref" href="#s_preview_voters_nat:207"><span class="id" title="binder">s_preview_voters_nat</span></a> <a id="s_precommit_voters_nat:208" class="idref" href="#s_precommit_voters_nat:208"><span class="id" title="binder">s_precommit_voters_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;(<a id="s_preview_voters:212" class="idref" href="#s_preview_voters:212"><span class="id" title="binder">s_preview_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:209" class="idref" href="#t:209"><span class="id" title="binder">t</span></a> <a id="r:210" class="idref" href="#r:210"><span class="id" title="binder">r</span></a> <a id="v:211" class="idref" href="#v:211"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:207"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:209"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:210"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:211"><span class="id" title="variable">v</span></a>)) <br/>
&nbsp;&nbsp;(<a id="s_precommit_voters:216" class="idref" href="#s_precommit_voters:216"><span class="id" title="binder">s_precommit_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:213" class="idref" href="#t:213"><span class="id" title="binder">t</span></a> <a id="r:214" class="idref" href="#r:214"><span class="id" title="binder">r</span></a> <a id="v:215" class="idref" href="#v:215"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:208"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:213"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:214"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:215"><span class="id" title="variable">v</span></a>)) <br/>
&nbsp;&nbsp;{<a id="s_round_start_time:217" class="idref" href="#s_round_start_time:217"><span class="id" title="binder">s_round_start_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a> }<br/>
&nbsp;&nbsp;{<a id="s_last_block_nat:218" class="idref" href="#s_last_block_nat:218"><span class="id" title="binder">s_last_block_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a id="s_last_block:219" class="idref" href="#s_last_block:219"><span class="id" title="binder">s_last_block</span></a> : <a class="idref" href="Grandpa.Protocol.html#Block_source"><span class="id" title="definition">Block_source</span></a> <a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:218"><span class="id" title="variable">s_last_block_nat</span></a>)<br/>
&nbsp;&nbsp;{<a id="s_time_increment:220" class="idref" href="#s_time_increment:220"><span class="id" title="binder">s_time_increment</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a> }<br/>
&nbsp;&nbsp;:= <br/>
&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">preview_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:207"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:206"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">precommit_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:208"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:206"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">last_block_number</span>:=<a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:218"><span class="id" title="variable">s_last_block_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:206"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_preview_voters:212"><span class="id" title="variable">s_preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:206"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters:216"><span class="id" title="variable">s_precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:206"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_round_start_time:217"><span class="id" title="variable">s_round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:206"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_last_block:219"><span class="id" title="variable">s_last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:206"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_time_increment:220"><span class="id" title="variable">s_time_increment</span></a> <a class="idref" href="Grandpa.Protocol.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:206"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Estimate_source" class="idref" href="#Estimate_source"><span class="id" title="definition">Estimate_source</span></a> (<a id="t:221" class="idref" href="#t:221"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:222" class="idref" href="#r:222"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:223" class="idref" href="#v:223"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>) <br/>
&nbsp;&nbsp;{<a id="s_preview_voters_nat:224" class="idref" href="#s_preview_voters_nat:224"><span class="id" title="binder">s_preview_voters_nat</span></a> <a id="s_precommit_voters_nat:225" class="idref" href="#s_precommit_voters_nat:225"><span class="id" title="binder">s_precommit_voters_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;{<a id="s_preview_voters:229" class="idref" href="#s_preview_voters:229"><span class="id" title="binder">s_preview_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:226" class="idref" href="#t:226"><span class="id" title="binder">t</span></a> <a id="r:227" class="idref" href="#r:227"><span class="id" title="binder">r</span></a> <a id="v:228" class="idref" href="#v:228"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:224"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:226"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:227"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:228"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_precommit_voters:233" class="idref" href="#s_precommit_voters:233"><span class="id" title="binder">s_precommit_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:230" class="idref" href="#t:230"><span class="id" title="binder">t</span></a> <a id="r:231" class="idref" href="#r:231"><span class="id" title="binder">r</span></a> <a id="v:232" class="idref" href="#v:232"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:225"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:230"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:231"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:232"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_round_start_time:234" class="idref" href="#s_round_start_time:234"><span class="id" title="binder">s_round_start_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a> }<br/>
&nbsp;&nbsp;{<a id="s_last_block_nat:235" class="idref" href="#s_last_block_nat:235"><span class="id" title="binder">s_last_block_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="s_last_block:236" class="idref" href="#s_last_block:236"><span class="id" title="binder">s_last_block</span></a> : <a class="idref" href="Grandpa.Protocol.html#Block_source"><span class="id" title="definition">Block_source</span></a> <a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:235"><span class="id" title="variable">s_last_block_nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="s_time_increment:237" class="idref" href="#s_time_increment:237"><span class="id" title="binder">s_time_increment</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="s_roundstate:238" class="idref" href="#s_roundstate:238"><span class="id" title="binder">s_roundstate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">preview_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:224"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">precommit_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:225"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">last_block_number</span>:=<a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:235"><span class="id" title="variable">s_last_block_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_preview_voters:229"><span class="id" title="variable">s_preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters:233"><span class="id" title="variable">s_precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_round_start_time:234"><span class="id" title="variable">s_round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_last_block:236"><span class="id" title="variable">s_last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_time_increment:237"><span class="id" title="variable">s_time_increment</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;:= <a class="idref" href="Grandpa.Protocol.html#Estimate"><span class="id" title="inductive">Estimate</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">preview_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:224"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">precommit_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:225"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">preview_voters</span>:=<a class="idref" href="Grandpa.Protocol.html#s_preview_voters:229"><span class="id" title="variable">s_preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">precommit_voters</span>:=<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters:233"><span class="id" title="variable">s_precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">round_time</span>:=<a class="idref" href="Grandpa.Protocol.html#s_round_start_time:234"><span class="id" title="variable">s_round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">round_number</span>:=<a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">last_block_number</span>:=<a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:235"><span class="id" title="variable">s_last_block_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">last_block</span>:=<a class="idref" href="Grandpa.Protocol.html#s_last_block:236"><span class="id" title="variable">s_last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">time_increment</span>:=<a class="idref" href="Grandpa.Protocol.html#s_time_increment:237"><span class="id" title="variable">s_time_increment</span></a> <a class="idref" href="Grandpa.Protocol.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:222"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:223"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#s_roundstate:238"><span class="id" title="variable">s_roundstate</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Completable_source" class="idref" href="#Completable_source"><span class="id" title="definition">Completable_source</span></a> (<a id="t:239" class="idref" href="#t:239"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:240" class="idref" href="#r:240"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:241" class="idref" href="#v:241"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>) <br/>
&nbsp;&nbsp;{<a id="s_preview_voters_nat:242" class="idref" href="#s_preview_voters_nat:242"><span class="id" title="binder">s_preview_voters_nat</span></a> <a id="s_precommit_voters_nat:243" class="idref" href="#s_precommit_voters_nat:243"><span class="id" title="binder">s_precommit_voters_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;{<a id="s_preview_voters:247" class="idref" href="#s_preview_voters:247"><span class="id" title="binder">s_preview_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:244" class="idref" href="#t:244"><span class="id" title="binder">t</span></a> <a id="r:245" class="idref" href="#r:245"><span class="id" title="binder">r</span></a> <a id="v:246" class="idref" href="#v:246"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:242"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:244"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:245"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:246"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_precommit_voters:251" class="idref" href="#s_precommit_voters:251"><span class="id" title="binder">s_precommit_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:248" class="idref" href="#t:248"><span class="id" title="binder">t</span></a> <a id="r:249" class="idref" href="#r:249"><span class="id" title="binder">r</span></a> <a id="v:250" class="idref" href="#v:250"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:243"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:248"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:249"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:250"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_round_start_time:252" class="idref" href="#s_round_start_time:252"><span class="id" title="binder">s_round_start_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a> }<br/>
&nbsp;&nbsp;{<a id="s_last_block_nat:253" class="idref" href="#s_last_block_nat:253"><span class="id" title="binder">s_last_block_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="s_last_block:254" class="idref" href="#s_last_block:254"><span class="id" title="binder">s_last_block</span></a> : <a class="idref" href="Grandpa.Protocol.html#Block_source"><span class="id" title="definition">Block_source</span></a> <a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:253"><span class="id" title="variable">s_last_block_nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="s_time_increment:255" class="idref" href="#s_time_increment:255"><span class="id" title="binder">s_time_increment</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="s_roundstate:259" class="idref" href="#s_roundstate:259"><span class="id" title="binder">s_roundstate</span></a>: <span class="id" title="keyword">∀</span> <a id="t:256" class="idref" href="#t:256"><span class="id" title="binder">t</span></a> <a id="r:257" class="idref" href="#r:257"><span class="id" title="binder">r</span></a> <a id="v:258" class="idref" href="#v:258"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">preview_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:242"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:256"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:258"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">precommit_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:243"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:256"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:258"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">last_block_number</span>:=<a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:253"><span class="id" title="variable">s_last_block_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:256"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:258"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_preview_voters:247"><span class="id" title="variable">s_preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:256"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:258"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters:251"><span class="id" title="variable">s_precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:256"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:258"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_round_start_time:252"><span class="id" title="variable">s_round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#t:256"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:258"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_last_block:254"><span class="id" title="variable">s_last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#t:256"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:258"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_time_increment:255"><span class="id" title="variable">s_time_increment</span></a> <a class="idref" href="Grandpa.Protocol.html#t:256"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:258"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;:= <a class="idref" href="Grandpa.Protocol.html#Completable"><span class="id" title="inductive">Completable</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_roundstate:259"><span class="id" title="variable">s_roundstate</span></a> <a class="idref" href="Grandpa.Protocol.html#t:239"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:240"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:241"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="voter_already_votes_in_all" class="idref" href="#voter_already_votes_in_all"><span class="id" title="definition">voter_already_votes_in_all</span></a> (<a id="t:260" class="idref" href="#t:260"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:261" class="idref" href="#r:261"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:262" class="idref" href="#v:262"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>)<br/>
&nbsp;&nbsp;{<a id="s_preview_voters_nat:263" class="idref" href="#s_preview_voters_nat:263"><span class="id" title="binder">s_preview_voters_nat</span></a> <a id="s_precommit_voters_nat:264" class="idref" href="#s_precommit_voters_nat:264"><span class="id" title="binder">s_precommit_voters_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;{<a id="s_preview_voters:268" class="idref" href="#s_preview_voters:268"><span class="id" title="binder">s_preview_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:265" class="idref" href="#t:265"><span class="id" title="binder">t</span></a> <a id="r:266" class="idref" href="#r:266"><span class="id" title="binder">r</span></a> <a id="v:267" class="idref" href="#v:267"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:263"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:265"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:266"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:267"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_precommit_voters:272" class="idref" href="#s_precommit_voters:272"><span class="id" title="binder">s_precommit_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:269" class="idref" href="#t:269"><span class="id" title="binder">t</span></a> <a id="r:270" class="idref" href="#r:270"><span class="id" title="binder">r</span></a> <a id="v:271" class="idref" href="#v:271"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:264"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:269"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:270"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:271"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_round_start_time:273" class="idref" href="#s_round_start_time:273"><span class="id" title="binder">s_round_start_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a> }<br/>
&nbsp;&nbsp;{<a id="s_last_block_nat:274" class="idref" href="#s_last_block_nat:274"><span class="id" title="binder">s_last_block_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="s_last_block:275" class="idref" href="#s_last_block:275"><span class="id" title="binder">s_last_block</span></a> : <a class="idref" href="Grandpa.Protocol.html#Block_source"><span class="id" title="definition">Block_source</span></a> <a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:274"><span class="id" title="variable">s_last_block_nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="s_time_increment:276" class="idref" href="#s_time_increment:276"><span class="id" title="binder">s_time_increment</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="s_roundstate:280" class="idref" href="#s_roundstate:280"><span class="id" title="binder">s_roundstate</span></a>: <span class="id" title="keyword">∀</span> <a id="t:277" class="idref" href="#t:277"><span class="id" title="binder">t</span></a> <a id="r:278" class="idref" href="#r:278"><span class="id" title="binder">r</span></a> <a id="v:279" class="idref" href="#v:279"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">preview_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:263"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:279"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">precommit_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:264"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:279"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">last_block_number</span>:=<a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:274"><span class="id" title="variable">s_last_block_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:279"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_preview_voters:268"><span class="id" title="variable">s_preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:279"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters:272"><span class="id" title="variable">s_precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:279"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_round_start_time:273"><span class="id" title="variable">s_round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:279"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_last_block:275"><span class="id" title="variable">s_last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:279"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_time_increment:276"><span class="id" title="variable">s_time_increment</span></a> <a class="idref" href="Grandpa.Protocol.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:279"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;{<span class="id" title="keyword">struct</span> <span class="id" title="var">r</span>}<br/>
&nbsp;&nbsp;:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
:= <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#r:261"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">r'</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#voter_voted_in_preview"><span class="id" title="definition">voter_voted_in_preview</span></a> <a class="idref" href="Grandpa.Protocol.html#v:262"><span class="id" title="variable">v</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_roundstate:280"><span class="id" title="variable">s_roundstate</span></a> <a class="idref" href="Grandpa.Protocol.html#t:260"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:261"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:262"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Grandpa.Protocol.html#voter_voted_in_precommit"><span class="id" title="definition">voter_voted_in_precommit</span></a> <a class="idref" href="Grandpa.Protocol.html#v:262"><span class="id" title="variable">v</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_roundstate:280"><span class="id" title="variable">s_roundstate</span></a> <a class="idref" href="Grandpa.Protocol.html#t:260"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:261"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:262"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Grandpa.Protocol.html#voter_already_votes_in_all:281"><span class="id" title="definition">voter_already_votes_in_all</span></a> <a class="idref" href="Grandpa.Protocol.html#t:260"><span class="id" title="variable">t</span></a> <span class="id" title="var">r'</span> <a class="idref" href="Grandpa.Protocol.html#v:262"><span class="id" title="variable">v</span></a> <a class="idref" href="Grandpa.Protocol.html#s_roundstate:280"><span class="id" title="variable">s_roundstate</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="can_start_round" class="idref" href="#can_start_round"><span class="id" title="definition">can_start_round</span></a> (<a id="t:283" class="idref" href="#t:283"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:284" class="idref" href="#r:284"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:285" class="idref" href="#v:285"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>) <br/>
&nbsp;&nbsp;{<a id="s_preview_voters_nat:286" class="idref" href="#s_preview_voters_nat:286"><span class="id" title="binder">s_preview_voters_nat</span></a> <a id="s_precommit_voters_nat:287" class="idref" href="#s_precommit_voters_nat:287"><span class="id" title="binder">s_precommit_voters_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;{<a id="s_preview_voters:291" class="idref" href="#s_preview_voters:291"><span class="id" title="binder">s_preview_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:288" class="idref" href="#t:288"><span class="id" title="binder">t</span></a> <a id="r:289" class="idref" href="#r:289"><span class="id" title="binder">r</span></a> <a id="v:290" class="idref" href="#v:290"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:286"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:288"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:289"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:290"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_precommit_voters:295" class="idref" href="#s_precommit_voters:295"><span class="id" title="binder">s_precommit_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:292" class="idref" href="#t:292"><span class="id" title="binder">t</span></a> <a id="r:293" class="idref" href="#r:293"><span class="id" title="binder">r</span></a> <a id="v:294" class="idref" href="#v:294"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:287"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:292"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:293"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:294"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_round_start_time:296" class="idref" href="#s_round_start_time:296"><span class="id" title="binder">s_round_start_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a> }<br/>
&nbsp;&nbsp;{<a id="s_last_block_nat:297" class="idref" href="#s_last_block_nat:297"><span class="id" title="binder">s_last_block_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="s_last_block:298" class="idref" href="#s_last_block:298"><span class="id" title="binder">s_last_block</span></a> : <a class="idref" href="Grandpa.Protocol.html#Block_source"><span class="id" title="definition">Block_source</span></a> <a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:297"><span class="id" title="variable">s_last_block_nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="s_time_increment:299" class="idref" href="#s_time_increment:299"><span class="id" title="binder">s_time_increment</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="s_roundstate:303" class="idref" href="#s_roundstate:303"><span class="id" title="binder">s_roundstate</span></a>: <span class="id" title="keyword">∀</span> <a id="t:300" class="idref" href="#t:300"><span class="id" title="binder">t</span></a> <a id="r:301" class="idref" href="#r:301"><span class="id" title="binder">r</span></a> <a id="v:302" class="idref" href="#v:302"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">preview_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:286"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:300"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:302"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">precommit_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:287"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:300"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:302"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">last_block_number</span>:=<a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:297"><span class="id" title="variable">s_last_block_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:300"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:302"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_preview_voters:291"><span class="id" title="variable">s_preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:300"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:302"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters:295"><span class="id" title="variable">s_precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:300"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:302"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_round_start_time:296"><span class="id" title="variable">s_round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#t:300"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:302"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_last_block:298"><span class="id" title="variable">s_last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#t:300"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:302"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_time_increment:299"><span class="id" title="variable">s_time_increment</span></a> <a class="idref" href="Grandpa.Protocol.html#t:300"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:301"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:302"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;):<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Protocol.html#r:284"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">r'</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒<a class="idref" href="Grandpa.Protocol.html#is_completable"><span class="id" title="definition">is_completable</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_roundstate:303"><span class="id" title="variable">s_roundstate</span></a> <a class="idref" href="Grandpa.Protocol.html#t:283"><span class="id" title="variable">t</span></a> <span class="id" title="var">r'</span> <a class="idref" href="Grandpa.Protocol.html#v:285"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Grandpa.Protocol.html#voter_already_votes_in_all"><span class="id" title="definition">voter_already_votes_in_all</span></a> <a class="idref" href="Grandpa.Protocol.html#t:283"><span class="id" title="variable">t</span></a> <span class="id" title="var">r'</span> <a class="idref" href="Grandpa.Protocol.html#v:285"><span class="id" title="variable">v</span></a> <a class="idref" href="Grandpa.Protocol.html#s_roundstate:303"><span class="id" title="variable">s_roundstate</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_primary" class="idref" href="#is_primary"><span class="id" title="definition">is_primary</span></a> (<a id="t:305" class="idref" href="#t:305"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) (<a id="r:306" class="idref" href="#r:306"><span class="id" title="binder">r</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:307" class="idref" href="#v:307"><span class="id" title="binder">v</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>) <br/>
&nbsp;&nbsp;{<a id="s_preview_voters_nat:308" class="idref" href="#s_preview_voters_nat:308"><span class="id" title="binder">s_preview_voters_nat</span></a> <a id="s_precommit_voters_nat:309" class="idref" href="#s_precommit_voters_nat:309"><span class="id" title="binder">s_precommit_voters_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} <br/>
&nbsp;&nbsp;{<a id="s_preview_voters:313" class="idref" href="#s_preview_voters:313"><span class="id" title="binder">s_preview_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:310" class="idref" href="#t:310"><span class="id" title="binder">t</span></a> <a id="r:311" class="idref" href="#r:311"><span class="id" title="binder">r</span></a> <a id="v:312" class="idref" href="#v:312"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:308"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:310"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:311"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:312"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_precommit_voters:317" class="idref" href="#s_precommit_voters:317"><span class="id" title="binder">s_precommit_voters</span></a>: <span class="id" title="keyword">∀</span> <a id="t:314" class="idref" href="#t:314"><span class="id" title="binder">t</span></a> <a id="r:315" class="idref" href="#r:315"><span class="id" title="binder">r</span></a> <a id="v:316" class="idref" href="#v:316"><span class="id" title="binder">v</span></a>, <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:309"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:314"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:315"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:316"><span class="id" title="variable">v</span></a>)}<br/>
&nbsp;&nbsp;{<a id="s_round_start_time:318" class="idref" href="#s_round_start_time:318"><span class="id" title="binder">s_round_start_time</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a> }<br/>
&nbsp;&nbsp;{<a id="s_last_block_nat:319" class="idref" href="#s_last_block_nat:319"><span class="id" title="binder">s_last_block_nat</span></a>: <a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} {<a id="s_last_block:320" class="idref" href="#s_last_block:320"><span class="id" title="binder">s_last_block</span></a> : <a class="idref" href="Grandpa.Protocol.html#Block_source"><span class="id" title="definition">Block_source</span></a> <a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:319"><span class="id" title="variable">s_last_block_nat</span></a>}<br/>
&nbsp;&nbsp;{<a id="s_time_increment:321" class="idref" href="#s_time_increment:321"><span class="id" title="binder">s_time_increment</span></a>:<a class="idref" href="Grandpa.Protocol.html#Source"><span class="id" title="definition">Source</span></a> <a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>}<br/>
&nbsp;&nbsp;(<a id="s_roundstate:325" class="idref" href="#s_roundstate:325"><span class="id" title="binder">s_roundstate</span></a>: <span class="id" title="keyword">∀</span> <a id="t:322" class="idref" href="#t:322"><span class="id" title="binder">t</span></a> <a id="r:323" class="idref" href="#r:323"><span class="id" title="binder">r</span></a> <a id="v:324" class="idref" href="#v:324"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#RoundState"><span class="id" title="inductive">RoundState</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">preview_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_preview_voters_nat:308"><span class="id" title="variable">s_preview_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:324"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">precommit_number</span>:= <a class="idref" href="Grandpa.Protocol.html#s_precommit_voters_nat:309"><span class="id" title="variable">s_precommit_voters_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:324"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">last_block_number</span>:=<a class="idref" href="Grandpa.Protocol.html#s_last_block_nat:319"><span class="id" title="variable">s_last_block_nat</span></a> <a class="idref" href="Grandpa.Protocol.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:324"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_preview_voters:313"><span class="id" title="variable">s_preview_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:324"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_precommit_voters:317"><span class="id" title="variable">s_precommit_voters</span></a> <a class="idref" href="Grandpa.Protocol.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:324"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_round_start_time:318"><span class="id" title="variable">s_round_start_time</span></a> <a class="idref" href="Grandpa.Protocol.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:324"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_last_block:320"><span class="id" title="variable">s_last_block</span></a> <a class="idref" href="Grandpa.Protocol.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:324"><span class="id" title="variable">v</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Protocol.html#s_time_increment:321"><span class="id" title="variable">s_time_increment</span></a> <a class="idref" href="Grandpa.Protocol.html#t:322"><span class="id" title="variable">t</span></a> <a class="idref" href="Grandpa.Protocol.html#r:323"><span class="id" title="variable">r</span></a> <a class="idref" href="Grandpa.Protocol.html#v:324"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;):<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="GlobalTime" class="idref" href="#GlobalTime"><span class="id" title="definition">GlobalTime</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> . <br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="block_producer" class="idref" href="#block_producer"><span class="id" title="definition">block_producer</span></a> {<a id="n:326" class="idref" href="#n:326"><span class="id" title="binder">n</span></a>} (<a id="last_block:327" class="idref" href="#last_block:327"><span class="id" title="binder">last_block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#n:326"><span class="id" title="variable">n</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><a id="b:328" class="idref" href="#b:328"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a><a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="Grandpa.Blocks.html#Prefix"><span class="id" title="inductive">Prefix</span></a> <a class="idref" href="Grandpa.Protocol.html#last_block:327"><span class="id" title="variable">last_block</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="Grandpa.Protocol.html#b:328"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="block_producer_not_emtpy" class="idref" href="#block_producer_not_emtpy"><span class="id" title="lemma">block_producer_not_emtpy</span></a> {<a id="n:329" class="idref" href="#n:329"><span class="id" title="binder">n</span></a>} {<a id="last_block:330" class="idref" href="#last_block:330"><span class="id" title="binder">last_block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Protocol.html#n:329"><span class="id" title="variable">n</span></a>} <br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Protocol.html#block_producer"><span class="id" title="axiom">block_producer</span></a>(<a class="idref" href="Grandpa.Protocol.html#last_block:330"><span class="id" title="variable">last_block</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="VoterCategory" class="idref" href="#VoterCategory"><span class="id" title="inductive">VoterCategory</span></a>  :=<br/>
&nbsp;&nbsp;| <a id="Bizantine" class="idref" href="#Bizantine"><span class="id" title="constructor">Bizantine</span></a> (<a id="voter:333" class="idref" href="#voter:333"><span class="id" title="binder">voter</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>)<br/>
&nbsp;&nbsp;| <a id="Honest" class="idref" href="#Honest"><span class="id" title="constructor">Honest</span></a> (<a id="voter:334" class="idref" href="#voter:334"><span class="id" title="binder">voter</span></a>:<a class="idref" href="Grandpa.Votes.html#Voter"><span class="id" title="definition">Voter</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="count_bizantines" class="idref" href="#count_bizantines"><span class="id" title="definition">count_bizantines</span></a> (<a id="l:335" class="idref" href="#l:335"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Grandpa.Protocol.html#VoterCategory"><span class="id" title="inductive">VoterCategory</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="count_honest" class="idref" href="#count_honest"><span class="id" title="definition">count_honest</span></a> (<a id="l:336" class="idref" href="#l:336"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Grandpa.Protocol.html#VoterCategory"><span class="id" title="inductive">VoterCategory</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="RealWorld" class="idref" href="#RealWorld"><span class="id" title="inductive">RealWorld</span></a> (<a id="t:337" class="idref" href="#t:337"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) := <a id="RealWorldC" class="idref" href="#RealWorldC"><span class="id" title="constructor">RealWorldC</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_available_voters_aux" class="idref" href="#get_available_voters_aux"><span class="id" title="definition">get_available_voters_aux</span></a> {<a id="t:340" class="idref" href="#t:340"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>} (<a id="w:341" class="idref" href="#w:341"><span class="id" title="binder">w</span></a>:<a class="idref" href="Grandpa.Protocol.html#RealWorld"><span class="id" title="inductive">RealWorld</span></a> <a class="idref" href="Grandpa.Protocol.html#t:340"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;:<a class="idref" href="http://coq.inria.fr/doc/V8.19.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Grandpa.Protocol.html#VoterCategory"><span class="id" title="inductive">VoterCategory</span></a>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_available_voters" class="idref" href="#get_available_voters"><span class="id" title="definition">get_available_voters</span></a> (<a id="t:342" class="idref" href="#t:342"><span class="id" title="binder">t</span></a>:<a class="idref" href="Grandpa.Protocol.html#Time"><span class="id" title="definition">Time</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Votes.html#Voters"><span class="id" title="inductive">Voters</span></a> (<a class="idref" href="Grandpa.Protocol.html#count_bizantines"><span class="id" title="axiom">count_bizantines</span></a> (@<a class="idref" href="Grandpa.Protocol.html#get_available_voters_aux"><span class="id" title="axiom">get_available_voters_aux</span></a> <a class="idref" href="Grandpa.Protocol.html#t:342"><span class="id" title="variable">t</span></a> (@<a class="idref" href="Grandpa.Protocol.html#RealWorldC"><span class="id" title="constructor">RealWorldC</span></a> <a class="idref" href="Grandpa.Protocol.html#t:342"><span class="id" title="variable">t</span></a>))).<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>