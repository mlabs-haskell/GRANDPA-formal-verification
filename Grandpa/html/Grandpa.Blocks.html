<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Grandpa.Blocks</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Grandpa.Blocks</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Coq.Program.Equality</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Setoids.Setoid.html#"><span class="id" title="library">Setoid</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Arith.PeanoNat.html#"><span class="id" title="library">PeanoNat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">blocks_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">blocks_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">blocks</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">blocks_scope</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

  In the real implementation is unpractical to have the full
  history of the blockchain and instead a new block stores
  the hash of the last block. In our case storing the hash
  only would lead to complications, as so, we choose to 
  store the full chain of blocks.

<div class="paragraph"> </div>

  Blocks are indexed by it's index in the chain.

<div class="paragraph"> </div>

  Originally we used the Vector type in the Coq prelude, 
  but it complicates the requirement of the `Original` block.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Block" class="idref" href="#Block"><span class="id" title="definition, inductive"><span id="Block_rect" class="id"><span id="Block_ind" class="id"><span id="Block_rec" class="id"><span id="Block_sind" class="id">Block</span></span></span></span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>:= <br/>
&nbsp;&nbsp;| <a id="OriginBlock" class="idref" href="#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block:1"><span class="id" title="inductive">Block</span></a> 0<br/>
&nbsp;&nbsp;</div>

<div class="doc">

<div class="paragraph"> </div>

     The id only purpose is to bring us the ability to talk about 
   different blocks.
   
</div>
<div class="code">
&nbsp;&nbsp;| <a id="NewBlock" class="idref" href="#NewBlock"><span class="id" title="constructor">NewBlock</span></a> {<a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a>} (<a id="oldBlock:4" class="idref" href="#oldBlock:4"><span class="id" title="binder">oldBlock</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block:1"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:3"><span class="id" title="variable">n</span></a>) (<a id="id:5" class="idref" href="#id:5"><span class="id" title="binder">id</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="Grandpa.Blocks.html#Block:1"><span class="id" title="inductive">Block</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Grandpa.Blocks.html#n:3"><span class="id" title="variable">n</span></a>).<br/>

<br/>
</div>

<div class="doc">
From time to time we need to form a type that can contain 
  blocks of any lenght. In such cases we will use AnyBlock 
   as the type.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="AnyBlock" class="idref" href="#AnyBlock"><span class="id" title="definition">AnyBlock</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a><a id="n:6" class="idref" href="#n:6"><span class="id" title="binder">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:6"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="to_any" class="idref" href="#to_any"><span class="id" title="definition">to_any</span></a> {<a id="n:7" class="idref" href="#n:7"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a id="b:8" class="idref" href="#b:8"><span class="id" title="binder">b</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:7"><span class="id" title="variable">n</span></a>) : <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Blocks.html#n:7"><span class="id" title="variable">n</span></a> <a class="idref" href="Grandpa.Blocks.html#b:8"><span class="id" title="variable">b</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

Example:

<div class="paragraph"> </div>

  <span class="inlinecode"><span class="id" title="keyword">Definition</span></span> <span class="inlinecode"><span class="id" title="var">newBlock_1</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a></span> <span class="inlinecode">:=</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a></span> <span class="inlinecode">(<span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> <span class="inlinecode">1</span> <span class="inlinecode">(<a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a></span> <span class="inlinecode"><a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a></span> <span class="inlinecode">1).</span>

<div class="paragraph"> </div>

  <span class="inlinecode"><span class="id" title="keyword">Check</span></span> <span class="inlinecode"><span class="id" title="var">newBlock_1</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a></span> <span class="inlinecode">.</span>

<div class="paragraph"> </div>

<a id="lab1"></a><h1 class="section">Block Equality</h1>

  In the term
   <span class="inlinecode"><span class="id" title="var">block1</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">block2</span></span>
   we need to already know (syntactically) that both blocks has the same lenght.
  otherwise coq would (rightfully) refuse to construct the term.

<div class="paragraph"> </div>

  This means that either we work with Heterogeneous equality or 
   cast around the types (also called transport).

<div class="paragraph"> </div>

  As I lack experience with Heterogeneous equality I choose to cast around types.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="eqb" class="idref" href="#eqb"><span class="id" title="definition">eqb</span></a> {<a id="n:9" class="idref" href="#n:9"><span class="id" title="binder">n</span></a> <a id="m:10" class="idref" href="#m:10"><span class="id" title="binder">m</span></a>} (<a id="block1:11" class="idref" href="#block1:11"><span class="id" title="binder">block1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:9"><span class="id" title="variable">n</span></a>) (<a id="block2:12" class="idref" href="#block2:12"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:10"><span class="id" title="variable">m</span></a>) := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#block1:11"><span class="id" title="variable">block1</span></a>, <a class="idref" href="Grandpa.Blocks.html#block2:12"><span class="id" title="variable">block2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a>, <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <span class="id" title="var">old1</span> <span class="id" title="var">id1</span>, <a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <span class="id" title="var">old2</span> <span class="id" title="var">id2</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (<span class="id" title="var">id1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <span class="id" title="var">id2</span>) (<a class="idref" href="Grandpa.Blocks.html#eqb:13"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">old1</span> <span class="id" title="var">old2</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="0e3637cbd3059518acde0851b17b4840" class="idref" href="#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">&quot;</span></a> b1 =? b2 " := (<a class="idref" href="Grandpa.Blocks.html#eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>):<span class="id" title="var">blocks_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="anyblock_eqb" class="idref" href="#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> (<a id="b1:16" class="idref" href="#b1:16"><span class="id" title="binder">b1</span></a> <a id="b2:17" class="idref" href="#b2:17"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:= <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#b1:16"><span class="id" title="variable">b1</span></a> , <a class="idref" href="Grandpa.Blocks.html#b2:17"><span class="id" title="variable">b2</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n1</span> <span class="id" title="var">b1'</span>), (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n2</span> <span class="id" title="var">b2'</span>) ⇒ <span class="id" title="var">b1'</span> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <span class="id" title="var">b2'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqb_implies_same_nat" class="idref" href="#eqb_implies_same_nat"><span class="id" title="lemma">eqb_implies_same_nat</span></a> {<a id="n:20" class="idref" href="#n:20"><span class="id" title="binder">n</span></a>} (<a id="block1:21" class="idref" href="#block1:21"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:20"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> {<a id="m:22" class="idref" href="#m:22"><span class="id" title="binder">m</span></a>} (<a id="block2:23" class="idref" href="#block2:23"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:22"><span class="id" title="variable">m</span></a>), <a class="idref" href="Grandpa.Blocks.html#block1:21"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:23"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#n:20"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#m:22"><span class="id" title="variable">m</span></a> .<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqb_reflexive" class="idref" href="#eqb_reflexive"><span class="id" title="lemma">eqb_reflexive</span></a> {<a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a>} (<a id="block1:25" class="idref" href="#block1:25"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:24"><span class="id" title="variable">n</span></a>)  :  <a class="idref" href="Grandpa.Blocks.html#block1:25"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:25"><span class="id" title="variable">block1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqb_symmetric" class="idref" href="#eqb_symmetric"><span class="id" title="lemma">eqb_symmetric</span></a> {<a id="n:26" class="idref" href="#n:26"><span class="id" title="binder">n</span></a>} (<a id="block1:27" class="idref" href="#block1:27"><span class="id" title="binder">block1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:26"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> {<a id="m:28" class="idref" href="#m:28"><span class="id" title="binder">m</span></a>} (<a id="block2:29" class="idref" href="#block2:29"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:28"><span class="id" title="variable">m</span></a>) <br/>
&nbsp;&nbsp;, <a class="idref" href="Grandpa.Blocks.html#block1:27"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:29"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:29"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:27"><span class="id" title="variable">block1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqb_transitive" class="idref" href="#eqb_transitive"><span class="id" title="lemma">eqb_transitive</span></a> {<a id="n:30" class="idref" href="#n:30"><span class="id" title="binder">n</span></a>} (<a id="b1:31" class="idref" href="#b1:31"><span class="id" title="binder">b1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:30"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;:<span class="id" title="keyword">∀</span> {<a id="m:32" class="idref" href="#m:32"><span class="id" title="binder">m</span></a> <a id="r:33" class="idref" href="#r:33"><span class="id" title="binder">r</span></a>}<br/>
&nbsp;&nbsp;(<a id="b2:34" class="idref" href="#b2:34"><span class="id" title="binder">b2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:32"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="b3:35" class="idref" href="#b3:35"><span class="id" title="binder">b3</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#r:33"><span class="id" title="variable">r</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Grandpa.Blocks.html#b1:31"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:34"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:34"><span class="id" title="variable">b2</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#b3:35"><span class="id" title="variable">b3</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:31"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#b3:35"><span class="id" title="variable">b3</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqb_eq" class="idref" href="#eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> {<a id="n:36" class="idref" href="#n:36"><span class="id" title="binder">n</span></a>} (<a id="block1:37" class="idref" href="#block1:37"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:36"><span class="id" title="variable">n</span></a>)  <br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<a id="block2:38" class="idref" href="#block2:38"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:36"><span class="id" title="variable">n</span></a>), <a class="idref" href="Grandpa.Blocks.html#block1:37"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:38"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:37"><span class="id" title="variable">block1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:38"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="anyblock_eqb_reflexive" class="idref" href="#anyblock_eqb_reflexive"><span class="id" title="lemma">anyblock_eqb_reflexive</span></a> (<a id="b1:39" class="idref" href="#b1:39"><span class="id" title="binder">b1</span></a>:<a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:39"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:39"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="anyblock_eqb_transitive" class="idref" href="#anyblock_eqb_transitive"><span class="id" title="lemma">anyblock_eqb_transitive</span></a> (<a id="b1:40" class="idref" href="#b1:40"><span class="id" title="binder">b1</span></a> <a id="b2:41" class="idref" href="#b2:41"><span class="id" title="binder">b2</span></a> <a id="b3:42" class="idref" href="#b3:42"><span class="id" title="binder">b3</span></a>:<a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:40"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:41"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:41"><span class="id" title="variable">b2</span></a> <a class="idref" href="Grandpa.Blocks.html#b3:42"><span class="id" title="variable">b3</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:40"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#b3:42"><span class="id" title="variable">b3</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="anyblock_eqb_symmetric_true" class="idref" href="#anyblock_eqb_symmetric_true"><span class="id" title="lemma">anyblock_eqb_symmetric_true</span></a> (<a id="b1:43" class="idref" href="#b1:43"><span class="id" title="binder">b1</span></a> <a id="b2:44" class="idref" href="#b2:44"><span class="id" title="binder">b2</span></a>:<a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:43"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:44"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:44"><span class="id" title="variable">b2</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:43"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="anyblock_eqb_symmetric_false" class="idref" href="#anyblock_eqb_symmetric_false"><span class="id" title="lemma">anyblock_eqb_symmetric_false</span></a> (<a id="b1:45" class="idref" href="#b1:45"><span class="id" title="binder">b1</span></a> <a id="b2:46" class="idref" href="#b2:46"><span class="id" title="binder">b2</span></a>:<a class="idref" href="Grandpa.Blocks.html#AnyBlock"><span class="id" title="definition">AnyBlock</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:45"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:46"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#anyblock_eqb"><span class="id" title="definition">anyblock_eqb</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:46"><span class="id" title="variable">b2</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:45"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_block_number" class="idref" href="#get_block_number"><span class="id" title="definition">get_block_number</span></a> {<a id="n:47" class="idref" href="#n:47"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a id="block:48" class="idref" href="#block:48"><span class="id" title="binder">block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:47"><span class="id" title="variable">n</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#block:48"><span class="id" title="variable">block</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Grandpa.Blocks.html#n:47"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="symmetric_aux" class="idref" href="#symmetric_aux"><span class="id" title="lemma">symmetric_aux</span></a> {<a id="n:50" class="idref" href="#n:50"><span class="id" title="binder">n</span></a> <a id="m:51" class="idref" href="#m:51"><span class="id" title="binder">m</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} : <a class="idref" href="Grandpa.Blocks.html#n:50"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="Grandpa.Blocks.html#m:51"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#m:51"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="Grandpa.Blocks.html#n:50"><span class="id" title="variable">n</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h1 class="section">Cast</h1>

  As mentioned before, the comparation of blocks of different lenght
   require us to have a way to tranform a block type.

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="cast" class="idref" href="#cast"><span class="id" title="definition">cast</span></a> {<a id="n:52" class="idref" href="#n:52"><span class="id" title="binder">n</span></a>} (<a id="block:53" class="idref" href="#block:53"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:52"><span class="id" title="variable">n</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">block</span>}: <span class="id" title="keyword">∀</span> {<a id="m:54" class="idref" href="#m:54"><span class="id" title="binder">m</span></a>}, <a class="idref" href="Grandpa.Blocks.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:54"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#block:53"><span class="id" title="variable">block</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <span class="id" title="var">n'</span> <span class="id" title="keyword">return</span> <span class="id" title="keyword">∀</span> <a id="m:58" class="idref" href="#m:58"><span class="id" title="binder">m</span></a>, <a class="idref" href="Grandpa.Blocks.html#m:58"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#n':57"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:58"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">fun</span> <a id="m:59" class="idref" href="#m:59"><span class="id" title="binder">m</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#m:59"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒<span class="id" title="keyword">fun</span> <a id="H:61" class="idref" href="#H:61"><span class="id" title="binder">H</span></a> ⇒ <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m'</span> ⇒<span class="id" title="keyword">fun</span> <a id="H:62" class="idref" href="#H:62"><span class="id" title="binder">H</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#False_rec"><span class="id" title="definition">False_rec</span></a> (<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m'</span>)) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Arith.PeanoNat.html#Nat.neq_succ_0"><span class="id" title="lemma">Nat.neq_succ_0</span></a> <span class="id" title="var">_</span> <a class="idref" href="Grandpa.Blocks.html#H:62"><span class="id" title="variable">H</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <span class="id" title="var">oldBlock</span> <span class="id" title="var">id</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">fun</span> <a id="m:63" class="idref" href="#m:63"><span class="id" title="binder">m</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#m:63"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒<span class="id" title="keyword">fun</span> <a id="H:65" class="idref" href="#H:65"><span class="id" title="binder">H</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#False_rec"><span class="id" title="definition">False_rec</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> 0) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Arith.PeanoNat.html#Nat.neq_succ_0"><span class="id" title="lemma">Nat.neq_succ_0</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Grandpa.Blocks.html#symmetric_aux"><span class="id" title="lemma">symmetric_aux</span></a> <a class="idref" href="Grandpa.Blocks.html#H:65"><span class="id" title="variable">H</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m'</span> ⇒ <span class="id" title="keyword">fun</span> <a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">H</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> (<a class="idref" href="Grandpa.Blocks.html#cast:55"><span class="id" title="definition">cast</span></a> <span class="id" title="var">oldBlock</span> (<span class="id" title="var">m</span>:=<span class="id" title="var">m'</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <a class="idref" href="Grandpa.Blocks.html#H:66"><span class="id" title="variable">H</span></a>)) <span class="id" title="var">id</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cast_origin_is_origin" class="idref" href="#cast_origin_is_origin"><span class="id" title="lemma">cast_origin_is_origin</span></a> {<a id="m:67" class="idref" href="#m:67"><span class="id" title="binder">m</span></a>} (<a id="eq_n_m:68" class="idref" href="#eq_n_m:68"><span class="id" title="binder">eq_n_m</span></a>:<a class="idref" href="Grandpa.Blocks.html#m:67"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>0)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">(</span></a><a class="idref" href="Grandpa.Blocks.html#cast"><span class="id" title="definition">cast</span></a> <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> (<span class="id" title="var">m</span>:=<a class="idref" href="Grandpa.Blocks.html#m:67"><span class="id" title="variable">m</span></a>) <a class="idref" href="Grandpa.Blocks.html#eq_n_m:68"><span class="id" title="variable">eq_n_m</span></a><a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cast_are_same" class="idref" href="#cast_are_same"><span class="id" title="lemma">cast_are_same</span></a> {<a id="n:69" class="idref" href="#n:69"><span class="id" title="binder">n</span></a>} (<a id="block:70" class="idref" href="#block:70"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:69"><span class="id" title="variable">n</span></a>) {<a id="m:71" class="idref" href="#m:71"><span class="id" title="binder">m</span></a>} (<a id="eq_n_m:72" class="idref" href="#eq_n_m:72"><span class="id" title="binder">eq_n_m</span></a>:<a class="idref" href="Grandpa.Blocks.html#m:71"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="Grandpa.Blocks.html#n:69"><span class="id" title="variable">n</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#block:70"><span class="id" title="variable">block</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">(</span></a><a class="idref" href="Grandpa.Blocks.html#cast"><span class="id" title="definition">cast</span></a> <a class="idref" href="Grandpa.Blocks.html#block:70"><span class="id" title="variable">block</span></a> (<span class="id" title="var">m</span>:=<a class="idref" href="Grandpa.Blocks.html#m:71"><span class="id" title="variable">m</span></a>) <a class="idref" href="Grandpa.Blocks.html#eq_n_m:72"><span class="id" title="variable">eq_n_m</span></a><a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cast_eqb_are_equal" class="idref" href="#cast_eqb_are_equal"><span class="id" title="lemma">cast_eqb_are_equal</span></a> {<a id="n:73" class="idref" href="#n:73"><span class="id" title="binder">n</span></a> <a id="m:74" class="idref" href="#m:74"><span class="id" title="binder">m</span></a>} (<a id="block1:75" class="idref" href="#block1:75"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:73"><span class="id" title="variable">n</span></a>) (<a id="block2:76" class="idref" href="#block2:76"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:74"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="are_equal:77" class="idref" href="#are_equal:77"><span class="id" title="binder">are_equal</span></a>:<a class="idref" href="Grandpa.Blocks.html#block1:75"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:76"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <br/>
&nbsp;&nbsp;(<a id="same_nats:78" class="idref" href="#same_nats:78"><span class="id" title="binder">same_nats</span></a>: <a class="idref" href="Grandpa.Blocks.html#n:73"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#m:74"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#block1:75"><span class="id" title="variable">block1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#cast"><span class="id" title="definition">cast</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:76"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#same_nats:78"><span class="id" title="variable">same_nats</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h1 class="section">Prefix</h1>

   <span class="inlinecode"><a class="idref" href="Grandpa.Blocks.html#Prefix"><span class="id" title="inductive">Prefix</span></a></span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode"><span class="id" title="var">B'</span></span> in the paper is presented as <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">≤</span> <span class="inlinecode"><span class="id" title="var">B'</span></span>.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="Prefix" class="idref" href="#Prefix"><span class="id" title="definition, inductive"><span id="Prefix_rect" class="id"><span id="Prefix_ind" class="id"><span id="Prefix_rec" class="id"><span id="Prefix_sind" class="id">Prefix</span></span></span></span></span></a> : <span class="id" title="keyword">∀</span> {<a id="n:79" class="idref" href="#n:79"><span class="id" title="binder">n</span></a>}, <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:79"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> {<a id="m:80" class="idref" href="#m:80"><span class="id" title="binder">m</span></a>}, <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:80"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">≤</span> <span class="inlinecode"><span class="id" title="var">B'</span></span>
</div>
<div class="code">
&nbsp;&nbsp;| <a id="Same" class="idref" href="#Same"><span class="id" title="constructor">Same</span></a> : <span class="id" title="keyword">∀</span> <a id="n:83" class="idref" href="#n:83"><span class="id" title="binder">n</span></a> (<a id="block:84" class="idref" href="#block:84"><span class="id" title="binder">block</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:83"><span class="id" title="variable">n</span></a>), <a class="idref" href="Grandpa.Blocks.html#Prefix:81"><span class="id" title="inductive">Prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block:84"><span class="id" title="variable">block</span></a> <a class="idref" href="Grandpa.Blocks.html#block:84"><span class="id" title="variable">block</span></a><br/>
&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">≤</span> <span class="inlinecode"><span class="id" title="var">B'</span></span>  <span class="inlinecode">→</span>  <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">≤</span> <span class="inlinecode">(<span class="id" title="var">b</span></span> <span class="inlinecode">::</span> <span class="inlinecode"><span class="id" title="var">B'</span>)</span> 
</div>
<div class="code">
&nbsp;&nbsp;| <a id="IsPrefix" class="idref" href="#IsPrefix"><span class="id" title="constructor">IsPrefix</span></a> {<a id="n:85" class="idref" href="#n:85"><span class="id" title="binder">n</span></a> <a id="m:86" class="idref" href="#m:86"><span class="id" title="binder">m</span></a>} (<a id="block1:87" class="idref" href="#block1:87"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:85"><span class="id" title="variable">n</span></a>) (<a id="block2:88" class="idref" href="#block2:88"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:86"><span class="id" title="variable">m</span></a>) (<a id="block_id:89" class="idref" href="#block_id:89"><span class="id" title="binder">block_id</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Blocks.html#Prefix:81"><span class="id" title="inductive">Prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:87"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:88"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#Prefix:81"><span class="id" title="inductive">Prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:87"><span class="id" title="variable">block1</span></a> (<a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:88"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#block_id:89"><span class="id" title="variable">block_id</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="504547c1b15cb9ae8a3c384c85ac7d6e" class="idref" href="#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">&quot;</span></a> a &lt;= b " := (<a class="idref" href="Grandpa.Blocks.html#Prefix"><span class="id" title="inductive">Prefix</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>):<span class="id" title="var">blocks_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="originBlock_is_always_prefix" class="idref" href="#originBlock_is_always_prefix"><span class="id" title="lemma">originBlock_is_always_prefix</span></a>  {<a id="n:90" class="idref" href="#n:90"><span class="id" title="binder">n</span></a>} (<a id="block:91" class="idref" href="#block:91"><span class="id" title="binder">block</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:90"><span class="id" title="variable">n</span></a>):  <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block:91"><span class="id" title="variable">block</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_of_newblock" class="idref" href="#prefix_of_newblock"><span class="id" title="lemma">prefix_of_newblock</span></a> {<a id="n:92" class="idref" href="#n:92"><span class="id" title="binder">n</span></a> <a id="m:93" class="idref" href="#m:93"><span class="id" title="binder">m</span></a>} (<a id="block1:94" class="idref" href="#block1:94"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:92"><span class="id" title="variable">n</span></a>) (<a id="block2:95" class="idref" href="#block2:95"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:93"><span class="id" title="variable">m</span></a>) {<a id="id:96" class="idref" href="#id:96"><span class="id" title="binder">id</span></a>} <br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#block1:94"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:95"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:94"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">(</span></a><a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:95"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#id:96"><span class="id" title="variable">id</span></a><a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="newblock_prefix" class="idref" href="#newblock_prefix"><span class="id" title="lemma">newblock_prefix</span></a> {<a id="n:97" class="idref" href="#n:97"><span class="id" title="binder">n</span></a> <a id="m:98" class="idref" href="#m:98"><span class="id" title="binder">m</span></a>} (<a id="block1:99" class="idref" href="#block1:99"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:97"><span class="id" title="variable">n</span></a>) (<a id="block2:100" class="idref" href="#block2:100"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:98"><span class="id" title="variable">m</span></a>) {<a id="id:101" class="idref" href="#id:101"><span class="id" title="binder">id</span></a>} <br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">(</span></a><a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:99"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#id:101"><span class="id" title="variable">id</span></a><a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">)</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:100"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:99"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:100"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_transitive" class="idref" href="#prefix_transitive"><span class="id" title="lemma">prefix_transitive</span></a> {<a id="n:102" class="idref" href="#n:102"><span class="id" title="binder">n</span></a> <a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a> <a id="r:104" class="idref" href="#r:104"><span class="id" title="binder">r</span></a>} <br/>
&nbsp;&nbsp;(<a id="block1:105" class="idref" href="#block1:105"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:102"><span class="id" title="variable">n</span></a>) (<a id="block2:106" class="idref" href="#block2:106"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:103"><span class="id" title="variable">m</span></a>) (<a id="block3:107" class="idref" href="#block3:107"><span class="id" title="binder">block3</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#r:104"><span class="id" title="variable">r</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#block1:105"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:106"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:106"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block3:107"><span class="id" title="variable">block3</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:105"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block3:107"><span class="id" title="variable">block3</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_height_is_below" class="idref" href="#prefix_height_is_below"><span class="id" title="lemma">prefix_height_is_below</span></a> {<a id="n:108" class="idref" href="#n:108"><span class="id" title="binder">n</span></a> <a id="m:109" class="idref" href="#m:109"><span class="id" title="binder">m</span></a>} (<a id="block1:110" class="idref" href="#block1:110"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:108"><span class="id" title="variable">n</span></a>) (<a id="block2:111" class="idref" href="#block2:111"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:109"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#block1:110"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:111"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="Grandpa.Blocks.html#n:108"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#m:109"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqb_blocks_are_prefix" class="idref" href="#eqb_blocks_are_prefix"><span class="id" title="lemma">eqb_blocks_are_prefix</span></a> {<a id="n:112" class="idref" href="#n:112"><span class="id" title="binder">n</span></a>} (<a id="block1:113" class="idref" href="#block1:113"><span class="id" title="binder">block1</span></a> <a id="block2:114" class="idref" href="#block2:114"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:112"><span class="id" title="variable">n</span></a>): <a class="idref" href="Grandpa.Blocks.html#block1:113"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:114"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:113"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:114"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqb_blocks_are_prefix2" class="idref" href="#eqb_blocks_are_prefix2"><span class="id" title="lemma">eqb_blocks_are_prefix2</span></a> {<a id="n:115" class="idref" href="#n:115"><span class="id" title="binder">n</span></a> <a id="m:116" class="idref" href="#m:116"><span class="id" title="binder">m</span></a>} (<a id="block1:117" class="idref" href="#block1:117"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:115"><span class="id" title="variable">n</span></a>) (<a id="block2:118" class="idref" href="#block2:118"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:116"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="are_equal:119" class="idref" href="#are_equal:119"><span class="id" title="binder">are_equal</span></a>:<a class="idref" href="Grandpa.Blocks.html#block1:117"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:118"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <br/>
&nbsp;&nbsp;(<a id="same_nats:120" class="idref" href="#same_nats:120"><span class="id" title="binder">same_nats</span></a>: <a class="idref" href="Grandpa.Blocks.html#n:115"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#m:116"><span class="id" title="variable">m</span></a>)<br/>
<br/>
<br/>
&nbsp;&nbsp;:  <a class="idref" href="Grandpa.Blocks.html#block1:117"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">(</span></a><a class="idref" href="Grandpa.Blocks.html#cast"><span class="id" title="definition">cast</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:118"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#same_nats:120"><span class="id" title="variable">same_nats</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqb_blocks_are_prefix3" class="idref" href="#eqb_blocks_are_prefix3"><span class="id" title="lemma">eqb_blocks_are_prefix3</span></a> {<a id="n:121" class="idref" href="#n:121"><span class="id" title="binder">n</span></a> <a id="m:122" class="idref" href="#m:122"><span class="id" title="binder">m</span></a>} (<a id="block1:123" class="idref" href="#block1:123"><span class="id" title="binder">block1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:121"><span class="id" title="variable">n</span></a>) (<a id="block2:124" class="idref" href="#block2:124"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:122"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="are_equal:125" class="idref" href="#are_equal:125"><span class="id" title="binder">are_equal</span></a>: <a class="idref" href="Grandpa.Blocks.html#block1:123"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:124"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <br/>
&nbsp;&nbsp;(<a id="same_nats:126" class="idref" href="#same_nats:126"><span class="id" title="binder">same_nats</span></a>: <a class="idref" href="Grandpa.Blocks.html#m:122"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#n:121"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;:  <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">(</span></a><a class="idref" href="Grandpa.Blocks.html#cast"><span class="id" title="definition">cast</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:123"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#same_nats:126"><span class="id" title="variable">same_nats</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">)</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:124"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h2 class="section">is_prefix</h2>

  Although we already have Prefix, it's definition tell us what a 
   prefix is, not how to take two blocks and find a prefix.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="is_prefix" class="idref" href="#is_prefix"><span class="id" title="definition">is_prefix</span></a> {<a id="n:127" class="idref" href="#n:127"><span class="id" title="binder">n</span></a> <a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a>} (<a id="block1:129" class="idref" href="#block1:129"><span class="id" title="binder">block1</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:127"><span class="id" title="variable">n</span></a>) (<a id="block2:130" class="idref" href="#block2:130"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:128"><span class="id" title="variable">m</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">block2</span>} : <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <br/>
&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Grandpa.Blocks.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="Grandpa.Blocks.html#m:128"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#block2:130"><span class="id" title="variable">block2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#OriginBlock"><span class="id" title="constructor">OriginBlock</span></a> ⇒  <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Grandpa.Blocks.html#NewBlock"><span class="id" title="constructor">NewBlock</span></a> <span class="id" title="var">old_block</span> <span class="id" title="var">id</span> ⇒ <a class="idref" href="Grandpa.Blocks.html#is_prefix:131"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:129"><span class="id" title="variable">block1</span></a> <span class="id" title="var">old_block</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="Grandpa.Blocks.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#m:128"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Blocks.html#block1:129"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:130"><span class="id" title="variable">block2</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prefix_reflexive" class="idref" href="#is_prefix_reflexive"><span class="id" title="lemma">is_prefix_reflexive</span></a> {<a id="n:133" class="idref" href="#n:133"><span class="id" title="binder">n</span></a>} (<a id="block:134" class="idref" href="#block:134"><span class="id" title="binder">block</span></a> :<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:133"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block:134"><span class="id" title="variable">block</span></a> <a class="idref" href="Grandpa.Blocks.html#block:134"><span class="id" title="variable">block</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_of_cast_right" class="idref" href="#prefix_of_cast_right"><span class="id" title="lemma">prefix_of_cast_right</span></a> {<a id="n:135" class="idref" href="#n:135"><span class="id" title="binder">n</span></a>} (<a id="block1:136" class="idref" href="#block1:136"><span class="id" title="binder">block1</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:135"><span class="id" title="variable">n</span></a>) <br/>
&nbsp;&nbsp;:<span class="id" title="keyword">∀</span>  {<a id="m:137" class="idref" href="#m:137"><span class="id" title="binder">m</span></a>} (<a id="block2:138" class="idref" href="#block2:138"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:137"><span class="id" title="variable">m</span></a>) {<a id="w:139" class="idref" href="#w:139"><span class="id" title="binder">w</span></a>} (<a id="eq_w_m:140" class="idref" href="#eq_w_m:140"><span class="id" title="binder">eq_w_m</span></a>: <a class="idref" href="Grandpa.Blocks.html#w:139"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Grandpa.Blocks.html#m:137"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;,<a class="idref" href="Grandpa.Blocks.html#block1:136"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">(</span></a><a class="idref" href="Grandpa.Blocks.html#cast"><span class="id" title="definition">cast</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:138"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#eq_w_m:140"><span class="id" title="variable">eq_w_m</span></a><a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:136"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:138"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_implies_is_prefix" class="idref" href="#prefix_implies_is_prefix"><span class="id" title="lemma">prefix_implies_is_prefix</span></a> {<a id="n:141" class="idref" href="#n:141"><span class="id" title="binder">n</span></a>} (<a id="block1:142" class="idref" href="#block1:142"><span class="id" title="binder">block1</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:141"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> {<a id="m:143" class="idref" href="#m:143"><span class="id" title="binder">m</span></a>} (<a id="block2:144" class="idref" href="#block2:144"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:143"><span class="id" title="variable">m</span></a>) ,<br/>
&nbsp;&nbsp;<a class="idref" href="Grandpa.Blocks.html#block1:142"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:144"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:142"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:144"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prefix_implies_prefix" class="idref" href="#is_prefix_implies_prefix"><span class="id" title="lemma">is_prefix_implies_prefix</span></a> {<a id="n:145" class="idref" href="#n:145"><span class="id" title="binder">n</span></a>} (<a id="block1:146" class="idref" href="#block1:146"><span class="id" title="binder">block1</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:145"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> {<a id="m:147" class="idref" href="#m:147"><span class="id" title="binder">m</span></a>} (<a id="block2:148" class="idref" href="#block2:148"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:147"><span class="id" title="variable">m</span></a>) ,<br/>
&nbsp;&nbsp;<a class="idref" href="Grandpa.Blocks.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:146"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:148"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:146"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:148"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_prefix_some" class="idref" href="#is_prefix_some"><span class="id" title="definition">is_prefix_some</span></a> {<a id="n:149" class="idref" href="#n:149"><span class="id" title="binder">n</span></a> <a id="m:150" class="idref" href="#m:150"><span class="id" title="binder">m</span></a>} <br/>
&nbsp;&nbsp;(<a id="block1:151" class="idref" href="#block1:151"><span class="id" title="binder">block1</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:149"><span class="id" title="variable">n</span></a>) (<a id="block2:152" class="idref" href="#block2:152"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:150"><span class="id" title="variable">m</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Grandpa.Blocks.html#block1:151"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:152"><span class="id" title="variable">block2</span></a>) .<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">More blocks relations</h1>


<div class="paragraph"> </div>


<div class="paragraph"> </div>

  <span class="inlinecode"><a class="idref" href="Grandpa.Blocks.html#IsChildren"><span class="id" title="inductive">IsChildren</span></a></span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode"><span class="id" title="var">B'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">B'</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">B</span></span>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variant</span> <a id="IsChildren" class="idref" href="#IsChildren"><span class="id" title="inductive">IsChildren</span></a> {<a id="n:153" class="idref" href="#n:153"><span class="id" title="binder">n</span></a> <a id="m:154" class="idref" href="#m:154"><span class="id" title="binder">m</span></a>} (<a id="block1:155" class="idref" href="#block1:155"><span class="id" title="binder">block1</span></a> :<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:153"><span class="id" title="variable">n</span></a>) (<a id="block2:156" class="idref" href="#block2:156"><span class="id" title="binder">block2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:154"><span class="id" title="variable">m</span></a>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="IsChildrenC" class="idref" href="#IsChildrenC"><span class="id" title="constructor">IsChildrenC</span></a> (<a id="is_prefix:159" class="idref" href="#is_prefix:159"><span class="id" title="binder">is_prefix</span></a>: <a class="idref" href="Grandpa.Blocks.html#block1:155"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:156"><span class="id" title="variable">block2</span></a>) (<a id="block_number_is_above:160" class="idref" href="#block_number_is_above:160"><span class="id" title="binder">block_number_is_above</span></a>: <a class="idref" href="Grandpa.Blocks.html#n:153"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a><a class="idref" href="Grandpa.Blocks.html#m:154"><span class="id" title="variable">m</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Grandpa.Blocks.html#IsChildren:157"><span class="id" title="inductive">IsChildren</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:155"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:156"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="::blocks_scope:x_'&lt;'_x" class="idref" href="#::blocks_scope:x_'&lt;'_x"><span class="id" title="notation">&quot;</span></a> a &lt; b " := (<a class="idref" href="Grandpa.Blocks.html#IsChildren"><span class="id" title="inductive">IsChildren</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>):<span class="id" title="var">blocks_scope</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

   The relation B ~ B' in the paper
 
</div>
<div class="code">
<span class="id" title="keyword">Variant</span> <a id="Related" class="idref" href="#Related"><span class="id" title="inductive">Related</span></a> {<a id="n:161" class="idref" href="#n:161"><span class="id" title="binder">n</span></a> <a id="m:162" class="idref" href="#m:162"><span class="id" title="binder">m</span></a>} (<a id="block1:163" class="idref" href="#block1:163"><span class="id" title="binder">block1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:161"><span class="id" title="variable">n</span></a>) (<a id="block2:164" class="idref" href="#block2:164"><span class="id" title="binder">block2</span></a> :<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:162"><span class="id" title="variable">m</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="RelatedAsChildren" class="idref" href="#RelatedAsChildren"><span class="id" title="constructor">RelatedAsChildren</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#block1:163"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#::blocks_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:164"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#Related:165"><span class="id" title="inductive">Related</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:163"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:164"><span class="id" title="variable">block2</span></a><br/>
&nbsp;&nbsp;| <a id="RelatedAsParent" class="idref" href="#RelatedAsParent"><span class="id" title="constructor">RelatedAsParent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#block2:164"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#::blocks_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:163"><span class="id" title="variable">block1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#Related:165"><span class="id" title="inductive">Related</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:163"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:164"><span class="id" title="variable">block2</span></a><br/>
&nbsp;&nbsp;| <a id="RelatedAsEquals" class="idref" href="#RelatedAsEquals"><span class="id" title="constructor">RelatedAsEquals</span></a>: <a class="idref" href="Grandpa.Blocks.html#block1:163"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#0e3637cbd3059518acde0851b17b4840"><span class="id" title="notation">=?</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:164"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#Related:165"><span class="id" title="inductive">Related</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:163"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:164"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="81e660aade3f2d7ad6d955d42883c466" class="idref" href="#81e660aade3f2d7ad6d955d42883c466"><span class="id" title="notation">&quot;</span></a> a ~ b " := (<a class="idref" href="Grandpa.Blocks.html#Related"><span class="id" title="inductive">Related</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>):<span class="id" title="var">blocks_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Unrelated" class="idref" href="#Unrelated"><span class="id" title="definition">Unrelated</span></a> {<a id="n:167" class="idref" href="#n:167"><span class="id" title="binder">n</span></a> <a id="m:168" class="idref" href="#m:168"><span class="id" title="binder">m</span></a>} (<a id="block1:169" class="idref" href="#block1:169"><span class="id" title="binder">block1</span></a> : <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:167"><span class="id" title="variable">n</span></a>) (<a id="block2:170" class="idref" href="#block2:170"><span class="id" title="binder">block2</span></a> :<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:168"><span class="id" title="variable">m</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> (<a class="idref" href="Grandpa.Blocks.html#block1:169"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#81e660aade3f2d7ad6d955d42883c466"><span class="id" title="notation">¬</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:170"><span class="id" title="variable">block2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="related_symmetric" class="idref" href="#related_symmetric"><span class="id" title="lemma">related_symmetric</span></a> : <span class="id" title="keyword">∀</span> {<a id="n:171" class="idref" href="#n:171"><span class="id" title="binder">n</span></a>} (<a id="block1:172" class="idref" href="#block1:172"><span class="id" title="binder">block1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:171"><span class="id" title="variable">n</span></a>) {<a id="m:173" class="idref" href="#m:173"><span class="id" title="binder">m</span></a>} (<a id="block2:174" class="idref" href="#block2:174"><span class="id" title="binder">block2</span></a> :<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:173"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;, <a class="idref" href="Grandpa.Blocks.html#block1:172"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#81e660aade3f2d7ad6d955d42883c466"><span class="id" title="notation">¬</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:174"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:174"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#81e660aade3f2d7ad6d955d42883c466"><span class="id" title="notation">¬</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:172"><span class="id" title="variable">block1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_implies_related" class="idref" href="#prefix_implies_related"><span class="id" title="lemma">prefix_implies_related</span></a>  {<a id="n:175" class="idref" href="#n:175"><span class="id" title="binder">n</span></a> <a id="m:176" class="idref" href="#m:176"><span class="id" title="binder">m</span></a>} (<a id="block1:177" class="idref" href="#block1:177"><span class="id" title="binder">block1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:175"><span class="id" title="variable">n</span></a>) (<a id="block2:178" class="idref" href="#block2:178"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:176"><span class="id" title="variable">m</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#block1:177"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:178"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:177"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#81e660aade3f2d7ad6d955d42883c466"><span class="id" title="notation">¬</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:178"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_related_some" class="idref" href="#is_related_some"><span class="id" title="definition">is_related_some</span></a> {<a id="n:179" class="idref" href="#n:179"><span class="id" title="binder">n</span></a> <a id="m:180" class="idref" href="#m:180"><span class="id" title="binder">m</span></a>} (<a id="block1:181" class="idref" href="#block1:181"><span class="id" title="binder">block1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:179"><span class="id" title="variable">n</span></a>) (<a id="block2:182" class="idref" href="#block2:182"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:180"><span class="id" title="variable">m</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Grandpa.Blocks.html#block1:181"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#81e660aade3f2d7ad6d955d42883c466"><span class="id" title="notation">¬</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:182"><span class="id" title="variable">block2</span></a>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#is_prefix_some"><span class="id" title="definition">is_prefix_some</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:181"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:182"><span class="id" title="variable">block2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Grandpa.Blocks.html#prefix_implies_related"><span class="id" title="lemma">prefix_implies_related</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:181"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:182"><span class="id" title="variable">block2</span></a> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Grandpa.Blocks.html#is_prefix_some"><span class="id" title="definition">is_prefix_some</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:182"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:181"><span class="id" title="variable">block1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Grandpa.Blocks.html#related_symmetric"><span class="id" title="lemma">related_symmetric</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Grandpa.Blocks.html#prefix_implies_related"><span class="id" title="lemma">prefix_implies_related</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:182"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:181"><span class="id" title="variable">block1</span></a> <span class="id" title="var">p</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_related" class="idref" href="#is_related"><span class="id" title="definition">is_related</span></a> {<a id="n:183" class="idref" href="#n:183"><span class="id" title="binder">n</span></a> <a id="m:184" class="idref" href="#m:184"><span class="id" title="binder">m</span></a>} (<a id="block1:185" class="idref" href="#block1:185"><span class="id" title="binder">block1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:183"><span class="id" title="variable">n</span></a>) (<a id="block2:186" class="idref" href="#block2:186"><span class="id" title="binder">block2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:184"><span class="id" title="variable">m</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="Grandpa.Blocks.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:185"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:186"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="Grandpa.Blocks.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:186"><span class="id" title="variable">block2</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:185"><span class="id" title="variable">block1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="decidable_related" class="idref" href="#decidable_related"><span class="id" title="lemma">decidable_related</span></a> : <span class="id" title="keyword">∀</span> <a id="n:187" class="idref" href="#n:187"><span class="id" title="binder">n</span></a> (<a id="block1:188" class="idref" href="#block1:188"><span class="id" title="binder">block1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:187"><span class="id" title="variable">n</span></a>) <a id="m:189" class="idref" href="#m:189"><span class="id" title="binder">m</span></a> (<a id="block2:190" class="idref" href="#block2:190"><span class="id" title="binder">block2</span></a> :<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#m:189"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;, <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Grandpa.Blocks.html#block1:188"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#81e660aade3f2d7ad6d955d42883c466"><span class="id" title="notation">¬</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:190"><span class="id" title="variable">block2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Grandpa.Blocks.html#Unrelated"><span class="id" title="definition">Unrelated</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:188"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:190"><span class="id" title="variable">block2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unrelated_symmetric" class="idref" href="#unrelated_symmetric"><span class="id" title="lemma">unrelated_symmetric</span></a> {<a id="n1:191" class="idref" href="#n1:191"><span class="id" title="binder">n1</span></a> <a id="n2:192" class="idref" href="#n2:192"><span class="id" title="binder">n2</span></a> :<a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a id="b1:193" class="idref" href="#b1:193"><span class="id" title="binder">b1</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n1:191"><span class="id" title="variable">n1</span></a>) (<a id="b2:194" class="idref" href="#b2:194"><span class="id" title="binder">b2</span></a>:<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n2:192"><span class="id" title="variable">n2</span></a>) : <a class="idref" href="Grandpa.Blocks.html#Unrelated"><span class="id" title="definition">Unrelated</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:193"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:194"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#Unrelated"><span class="id" title="definition">Unrelated</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:194"><span class="id" title="variable">b2</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:193"><span class="id" title="variable">b1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="different_blocks_of_same_height_are_unrelated" class="idref" href="#different_blocks_of_same_height_are_unrelated"><span class="id" title="lemma">different_blocks_of_same_height_are_unrelated</span></a> : <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:195" class="idref" href="#n:195"><span class="id" title="binder">n</span></a> (<a id="block1:196" class="idref" href="#block1:196"><span class="id" title="binder">block1</span></a> <a id="block2:197" class="idref" href="#block2:197"><span class="id" title="binder">block2</span></a> :<a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n:195"><span class="id" title="variable">n</span></a>) <br/>
&nbsp;&nbsp;, <a class="idref" href="Grandpa.Blocks.html#block1:196"><span class="id" title="variable">block1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:197"><span class="id" title="variable">block2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Grandpa.Blocks.html#Unrelated"><span class="id" title="definition">Unrelated</span></a> <a class="idref" href="Grandpa.Blocks.html#block1:196"><span class="id" title="variable">block1</span></a> <a class="idref" href="Grandpa.Blocks.html#block2:197"><span class="id" title="variable">block2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="same_bound_implies_related" class="idref" href="#same_bound_implies_related"><span class="id" title="lemma">same_bound_implies_related</span></a> {<a id="n1:198" class="idref" href="#n1:198"><span class="id" title="binder">n1</span></a> <a id="n2:199" class="idref" href="#n2:199"><span class="id" title="binder">n2</span></a> <a id="n3:200" class="idref" href="#n3:200"><span class="id" title="binder">n3</span></a>} <br/>
&nbsp;&nbsp;{<a id="b1:201" class="idref" href="#b1:201"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n1:198"><span class="id" title="variable">n1</span></a>}<br/>
&nbsp;&nbsp;{<a id="b2:202" class="idref" href="#b2:202"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n2:199"><span class="id" title="variable">n2</span></a>}<br/>
&nbsp;&nbsp;{<a id="b3:203" class="idref" href="#b3:203"><span class="id" title="binder">b3</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n3:200"><span class="id" title="variable">n3</span></a>}<br/>
&nbsp;&nbsp;(<a id="b1_b2:204" class="idref" href="#b1_b2:204"><span class="id" title="binder">b1_b2</span></a>:<a class="idref" href="Grandpa.Blocks.html#b1:201"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:202"><span class="id" title="variable">b2</span></a>)<br/>
&nbsp;&nbsp;(<a id="b3_b2:205" class="idref" href="#b3_b2:205"><span class="id" title="binder">b3_b2</span></a>:<a class="idref" href="Grandpa.Blocks.html#b3:203"><span class="id" title="variable">b3</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:202"><span class="id" title="variable">b2</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#b1:201"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#81e660aade3f2d7ad6d955d42883c466"><span class="id" title="notation">¬</span></a> <a class="idref" href="Grandpa.Blocks.html#b3:203"><span class="id" title="variable">b3</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prefixed_block_of_unrelated_is_unrelated" class="idref" href="#prefixed_block_of_unrelated_is_unrelated"><span class="id" title="lemma">prefixed_block_of_unrelated_is_unrelated</span></a> {<a id="n1:206" class="idref" href="#n1:206"><span class="id" title="binder">n1</span></a> <a id="n2:207" class="idref" href="#n2:207"><span class="id" title="binder">n2</span></a> <a id="n3:208" class="idref" href="#n3:208"><span class="id" title="binder">n3</span></a>}<br/>
&nbsp;&nbsp;{<a id="b1:209" class="idref" href="#b1:209"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n1:206"><span class="id" title="variable">n1</span></a>}<br/>
&nbsp;&nbsp;{<a id="b2:210" class="idref" href="#b2:210"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n2:207"><span class="id" title="variable">n2</span></a>}<br/>
&nbsp;&nbsp;{<a id="b3:211" class="idref" href="#b3:211"><span class="id" title="binder">b3</span></a>: <a class="idref" href="Grandpa.Blocks.html#Block"><span class="id" title="inductive">Block</span></a> <a class="idref" href="Grandpa.Blocks.html#n3:208"><span class="id" title="variable">n3</span></a>}<br/>
&nbsp;&nbsp;(<a id="prefix_proof:212" class="idref" href="#prefix_proof:212"><span class="id" title="binder">prefix_proof</span></a>:<a class="idref" href="Grandpa.Blocks.html#b1:209"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#504547c1b15cb9ae8a3c384c85ac7d6e"><span class="id" title="notation">≤</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:210"><span class="id" title="variable">b2</span></a>)<br/>
&nbsp;&nbsp;(<a id="unrelated:213" class="idref" href="#unrelated:213"><span class="id" title="binder">unrelated</span></a>: <a class="idref" href="Grandpa.Blocks.html#Unrelated"><span class="id" title="definition">Unrelated</span></a> <a class="idref" href="Grandpa.Blocks.html#b1:209"><span class="id" title="variable">b1</span></a> <a class="idref" href="Grandpa.Blocks.html#b3:211"><span class="id" title="variable">b3</span></a> )<br/>
&nbsp;&nbsp;: <a class="idref" href="Grandpa.Blocks.html#Unrelated"><span class="id" title="definition">Unrelated</span></a> <a class="idref" href="Grandpa.Blocks.html#b2:210"><span class="id" title="variable">b2</span></a> <a class="idref" href="Grandpa.Blocks.html#b3:211"><span class="id" title="variable">b3</span></a>.<br/>

<br/>
<span class="id" title="keyword">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">blocks_scope</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>